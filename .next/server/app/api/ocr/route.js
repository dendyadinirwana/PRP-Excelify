/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ocr/route";
exports.ids = ["app/api/ocr/route"];
exports.modules = {

/***/ "(rsc)/./app/api/ocr/route.ts":
/*!******************************!*\
  !*** ./app/api/ocr/route.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/services/geminiService */ \"(rsc)/./services/geminiService.ts\");\n\n\nasync function OPTIONS() {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({}, {\n        headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"POST\",\n            \"Access-Control-Allow-Headers\": \"Content-Type\"\n        }\n    });\n}\nasync function POST(request) {\n    try {\n        const formData = await request.formData();\n        const file = formData.get(\"file\");\n        const language = formData.get(\"language\") || \"en\";\n        if (!file) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No file provided\"\n            }, {\n                status: 400\n            });\n        }\n        try {\n            const result = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_1__.processImageWithGemini)(file, language, ()=>{});\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n        } catch (processingError) {\n            console.error(\"OCR processing error:\", processingError);\n            // Create a fallback result with basic information\n            const fallbackResult = {\n                rows: [],\n                fileName: file.name || `OCR_Result_${new Date().toISOString().slice(0, 10)}`,\n                analysis: {\n                    title: language === \"en\" ? \"Document Analysis\" : \"Analisis Dokumen\",\n                    keyPoints: [\n                        language === \"en\" ? \"Document processing encountered an error\" : \"Pemrosesan dokumen mengalami kesalahan\",\n                        language === \"en\" ? \"Basic text extraction was attempted\" : \"Ekstraksi teks dasar telah dicoba\",\n                        language === \"en\" ? \"Some content may be available\" : \"Beberapa konten mungkin tersedia\",\n                        language === \"en\" ? \"Please try again with a clearer image\" : \"Silakan coba lagi dengan gambar yang lebih jelas\",\n                        language === \"en\" ? \"Contact support if the issue persists\" : \"Hubungi dukungan jika masalah berlanjut\"\n                    ],\n                    recurringWords: [\n                        \"error\",\n                        \"processing\",\n                        \"document\",\n                        \"content\",\n                        \"support\"\n                    ],\n                    context: language === \"en\" ? \"The document could not be fully processed due to a technical issue. Please try again or contact support.\" : \"Dokumen tidak dapat diproses sepenuhnya karena masalah teknis. Silakan coba lagi atau hubungi dukungan.\"\n                }\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(fallbackResult);\n        }\n    } catch (error) {\n        console.error(\"API route error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Failed to process request\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL29jci9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBDO0FBQ3VCO0FBRTFELGVBQWVFO0lBQ3BCLE9BQU9GLHFEQUFZQSxDQUFDRyxJQUFJLENBQ3RCLENBQUMsR0FDRDtRQUNFQyxTQUFTO1lBQ1AsK0JBQStCO1lBQy9CLGdDQUFnQztZQUNoQyxnQ0FBZ0M7UUFDbEM7SUFDRjtBQUVKO0FBRU8sZUFBZUMsS0FBS0MsT0FBZ0I7SUFDekMsSUFBSTtRQUNGLE1BQU1DLFdBQVcsTUFBTUQsUUFBUUMsUUFBUTtRQUN2QyxNQUFNQyxPQUFPRCxTQUFTRSxHQUFHLENBQUM7UUFDMUIsTUFBTUMsV0FBVyxTQUFVRCxHQUFHLENBQUMsZUFBMEI7UUFFekQsSUFBSSxDQUFDRCxNQUFNO1lBQ1QsT0FBT1IscURBQVlBLENBQUNHLElBQUksQ0FBQztnQkFBRVEsT0FBTztZQUFtQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDeEU7UUFFQSxJQUFJO1lBQ0YsTUFBTUMsU0FBUyxNQUFNWiwrRUFBc0JBLENBQ3pDTyxNQUNBRSxVQUNBLEtBQU87WUFHVCxPQUFPVixxREFBWUEsQ0FBQ0csSUFBSSxDQUFDVTtRQUMzQixFQUFFLE9BQU9DLGlCQUFzQjtZQUM3QkMsUUFBUUosS0FBSyxDQUFDLHlCQUF5Qkc7WUFFdkMsa0RBQWtEO1lBQ2xELE1BQU1FLGlCQUFpQjtnQkFDckJDLE1BQU0sRUFBRTtnQkFDUkMsVUFBVVYsS0FBS1csSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUlDLE9BQU9DLFdBQVcsR0FBR0MsS0FBSyxDQUFDLEdBQUcsS0FBSztnQkFDNUVDLFVBQVU7b0JBQ1JDLE9BQU9kLGFBQWEsT0FBTyxzQkFBc0I7b0JBQ2pEZSxXQUFXO3dCQUNUZixhQUFhLE9BQU8sNkNBQTZDO3dCQUNqRUEsYUFBYSxPQUFPLHdDQUF3Qzt3QkFDNURBLGFBQWEsT0FBTyxrQ0FBa0M7d0JBQ3REQSxhQUFhLE9BQ1QsMENBQ0E7d0JBQ0pBLGFBQWEsT0FBTywwQ0FBMEM7cUJBQy9EO29CQUNEZ0IsZ0JBQWdCO3dCQUFDO3dCQUFTO3dCQUFjO3dCQUFZO3dCQUFXO3FCQUFVO29CQUN6RUMsU0FDRWpCLGFBQWEsT0FDVCw2R0FDQTtnQkFDUjtZQUNGO1lBRUEsT0FBT1YscURBQVlBLENBQUNHLElBQUksQ0FBQ2E7UUFDM0I7SUFDRixFQUFFLE9BQU9MLE9BQVk7UUFDbkJJLFFBQVFKLEtBQUssQ0FBQyxvQkFBb0JBO1FBQ2xDLE9BQU9YLHFEQUFZQSxDQUFDRyxJQUFJLENBQUM7WUFBRVEsT0FBT0EsTUFBTWlCLE9BQU8sSUFBSTtRQUE0QixHQUFHO1lBQUVoQixRQUFRO1FBQUk7SUFDbEc7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2RlbmR5YWRpbmlyd2FuYS9EZXNrdG9wL1BSUC1FeGNlbGlmeS9hcHAvYXBpL29jci9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIlxuaW1wb3J0IHsgcHJvY2Vzc0ltYWdlV2l0aEdlbWluaSB9IGZyb20gXCJAL3NlcnZpY2VzL2dlbWluaVNlcnZpY2VcIlxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gT1BUSU9OUygpIHtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgIHt9LFxuICAgIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIjogXCIqXCIsXG4gICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiOiBcIlBPU1RcIixcbiAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCI6IFwiQ29udGVudC1UeXBlXCIsXG4gICAgICB9LFxuICAgIH0sXG4gIClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpXG4gICAgY29uc3QgZmlsZSA9IGZvcm1EYXRhLmdldChcImZpbGVcIikgYXMgRmlsZVxuICAgIGNvbnN0IGxhbmd1YWdlID0gKGZvcm1EYXRhLmdldChcImxhbmd1YWdlXCIpIGFzIHN0cmluZykgfHwgXCJlblwiXG5cbiAgICBpZiAoIWZpbGUpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIk5vIGZpbGUgcHJvdmlkZWRcIiB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3NJbWFnZVdpdGhHZW1pbmkoXG4gICAgICAgIGZpbGUsXG4gICAgICAgIGxhbmd1YWdlLFxuICAgICAgICAoKSA9PiB7fSwgLy8gUHJvZ3Jlc3MgY2FsbGJhY2sgb3B0aW9uYWwgaW4gQVBJIGNvbnRleHRcbiAgICAgIClcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdClcbiAgICB9IGNhdGNoIChwcm9jZXNzaW5nRXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIk9DUiBwcm9jZXNzaW5nIGVycm9yOlwiLCBwcm9jZXNzaW5nRXJyb3IpXG5cbiAgICAgIC8vIENyZWF0ZSBhIGZhbGxiYWNrIHJlc3VsdCB3aXRoIGJhc2ljIGluZm9ybWF0aW9uXG4gICAgICBjb25zdCBmYWxsYmFja1Jlc3VsdCA9IHtcbiAgICAgICAgcm93czogW10sXG4gICAgICAgIGZpbGVOYW1lOiBmaWxlLm5hbWUgfHwgYE9DUl9SZXN1bHRfJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApfWAsXG4gICAgICAgIGFuYWx5c2lzOiB7XG4gICAgICAgICAgdGl0bGU6IGxhbmd1YWdlID09PSBcImVuXCIgPyBcIkRvY3VtZW50IEFuYWx5c2lzXCIgOiBcIkFuYWxpc2lzIERva3VtZW5cIixcbiAgICAgICAgICBrZXlQb2ludHM6IFtcbiAgICAgICAgICAgIGxhbmd1YWdlID09PSBcImVuXCIgPyBcIkRvY3VtZW50IHByb2Nlc3NpbmcgZW5jb3VudGVyZWQgYW4gZXJyb3JcIiA6IFwiUGVtcm9zZXNhbiBkb2t1bWVuIG1lbmdhbGFtaSBrZXNhbGFoYW5cIixcbiAgICAgICAgICAgIGxhbmd1YWdlID09PSBcImVuXCIgPyBcIkJhc2ljIHRleHQgZXh0cmFjdGlvbiB3YXMgYXR0ZW1wdGVkXCIgOiBcIkVrc3RyYWtzaSB0ZWtzIGRhc2FyIHRlbGFoIGRpY29iYVwiLFxuICAgICAgICAgICAgbGFuZ3VhZ2UgPT09IFwiZW5cIiA/IFwiU29tZSBjb250ZW50IG1heSBiZSBhdmFpbGFibGVcIiA6IFwiQmViZXJhcGEga29udGVuIG11bmdraW4gdGVyc2VkaWFcIixcbiAgICAgICAgICAgIGxhbmd1YWdlID09PSBcImVuXCJcbiAgICAgICAgICAgICAgPyBcIlBsZWFzZSB0cnkgYWdhaW4gd2l0aCBhIGNsZWFyZXIgaW1hZ2VcIlxuICAgICAgICAgICAgICA6IFwiU2lsYWthbiBjb2JhIGxhZ2kgZGVuZ2FuIGdhbWJhciB5YW5nIGxlYmloIGplbGFzXCIsXG4gICAgICAgICAgICBsYW5ndWFnZSA9PT0gXCJlblwiID8gXCJDb250YWN0IHN1cHBvcnQgaWYgdGhlIGlzc3VlIHBlcnNpc3RzXCIgOiBcIkh1YnVuZ2kgZHVrdW5nYW4gamlrYSBtYXNhbGFoIGJlcmxhbmp1dFwiLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgcmVjdXJyaW5nV29yZHM6IFtcImVycm9yXCIsIFwicHJvY2Vzc2luZ1wiLCBcImRvY3VtZW50XCIsIFwiY29udGVudFwiLCBcInN1cHBvcnRcIl0sXG4gICAgICAgICAgY29udGV4dDpcbiAgICAgICAgICAgIGxhbmd1YWdlID09PSBcImVuXCJcbiAgICAgICAgICAgICAgPyBcIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgZnVsbHkgcHJvY2Vzc2VkIGR1ZSB0byBhIHRlY2huaWNhbCBpc3N1ZS4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQuXCJcbiAgICAgICAgICAgICAgOiBcIkRva3VtZW4gdGlkYWsgZGFwYXQgZGlwcm9zZXMgc2VwZW51aG55YSBrYXJlbmEgbWFzYWxhaCB0ZWtuaXMuIFNpbGFrYW4gY29iYSBsYWdpIGF0YXUgaHVidW5naSBkdWt1bmdhbi5cIixcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGZhbGxiYWNrUmVzdWx0KVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJBUEkgcm91dGUgZXJyb3I6XCIsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIHByb2Nlc3MgcmVxdWVzdFwiIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicHJvY2Vzc0ltYWdlV2l0aEdlbWluaSIsIk9QVElPTlMiLCJqc29uIiwiaGVhZGVycyIsIlBPU1QiLCJyZXF1ZXN0IiwiZm9ybURhdGEiLCJmaWxlIiwiZ2V0IiwibGFuZ3VhZ2UiLCJlcnJvciIsInN0YXR1cyIsInJlc3VsdCIsInByb2Nlc3NpbmdFcnJvciIsImNvbnNvbGUiLCJmYWxsYmFja1Jlc3VsdCIsInJvd3MiLCJmaWxlTmFtZSIsIm5hbWUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzbGljZSIsImFuYWx5c2lzIiwidGl0bGUiLCJrZXlQb2ludHMiLCJyZWN1cnJpbmdXb3JkcyIsImNvbnRleHQiLCJtZXNzYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/ocr/route.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Focr%2Froute&page=%2Fapi%2Focr%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Focr%2Froute.ts&appDir=%2FUsers%2Fdendyadinirwana%2FDesktop%2FPRP-Excelify%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdendyadinirwana%2FDesktop%2FPRP-Excelify&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Focr%2Froute&page=%2Fapi%2Focr%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Focr%2Froute.ts&appDir=%2FUsers%2Fdendyadinirwana%2FDesktop%2FPRP-Excelify%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdendyadinirwana%2FDesktop%2FPRP-Excelify&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_dendyadinirwana_Desktop_PRP_Excelify_app_api_ocr_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/ocr/route.ts */ \"(rsc)/./app/api/ocr/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ocr/route\",\n        pathname: \"/api/ocr\",\n        filename: \"route\",\n        bundlePath: \"app/api/ocr/route\"\n    },\n    resolvedPagePath: \"/Users/dendyadinirwana/Desktop/PRP-Excelify/app/api/ocr/route.ts\",\n    nextConfigOutput,\n    userland: _Users_dendyadinirwana_Desktop_PRP_Excelify_app_api_ocr_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZvY3IlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm9jciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm9jciUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmRlbmR5YWRpbmlyd2FuYSUyRkRlc2t0b3AlMkZQUlAtRXhjZWxpZnklMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGZGVuZHlhZGluaXJ3YW5hJTJGRGVza3RvcCUyRlBSUC1FeGNlbGlmeSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZ0I7QUFDN0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9kZW5keWFkaW5pcndhbmEvRGVza3RvcC9QUlAtRXhjZWxpZnkvYXBwL2FwaS9vY3Ivcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL29jci9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL29jclwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvb2NyL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2RlbmR5YWRpbmlyd2FuYS9EZXNrdG9wL1BSUC1FeGNlbGlmeS9hcHAvYXBpL29jci9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Focr%2Froute&page=%2Fapi%2Focr%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Focr%2Froute.ts&appDir=%2FUsers%2Fdendyadinirwana%2FDesktop%2FPRP-Excelify%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdendyadinirwana%2FDesktop%2FPRP-Excelify&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./services/excelService.ts":
/*!**********************************!*\
  !*** ./services/excelService.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   downloadExcel: () => (/* binding */ downloadExcel),\n/* harmony export */   generateExcelFromText: () => (/* binding */ generateExcelFromText)\n/* harmony export */ });\n// Use dynamic import for XLSX\nasync function generateExcelFromText(results, options) {\n    try {\n        // Dynamically import XLSX to ensure it's available\n        const XLSX = await __webpack_require__.e(/*! import() */ \"vendor-chunks/xlsx\").then(__webpack_require__.bind(__webpack_require__, /*! xlsx */ \"(rsc)/./node_modules/xlsx/xlsx.mjs\"));\n        const workbook = XLSX.utils.book_new();\n        // Create a combined sheet if requested\n        if (options.combineIntoSingleSheet) {\n            const combinedData = [];\n            results.forEach((result)=>{\n                if (result.tableData) {\n                    combinedData.push(...result.tableData);\n                } else {\n                    combinedData.push(...result.text.split(\"\\n\").map((line)=>[\n                            line\n                        ]));\n                }\n            });\n            const combinedSheet = XLSX.utils.aoa_to_sheet(combinedData);\n            XLSX.utils.book_append_sheet(workbook, combinedSheet, options.sheetName || \"Combined Results\");\n        } else {\n            // Create individual sheets for each result\n            results.forEach((result, index)=>{\n                const sheetName = result.fileName || `Sheet${index + 1}`;\n                const sheetData = result.tableData || result.text.split(\"\\n\").map((line)=>[\n                        line\n                    ]);\n                const sheet = XLSX.utils.aoa_to_sheet(sheetData);\n                XLSX.utils.book_append_sheet(workbook, sheet, sheetName);\n            });\n        }\n        // Generate the Excel file\n        const excelBuffer = XLSX.write(workbook, {\n            bookType: \"xlsx\",\n            type: \"buffer\"\n        });\n        if (options.returnBuffer) {\n            return {\n                fileName: options.fileName,\n                buffer: excelBuffer\n            };\n        }\n        // Create a blob URL for download\n        const blob = new Blob([\n            excelBuffer\n        ], {\n            type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n        });\n        const url = URL.createObjectURL(blob);\n        return {\n            url,\n            fileName: options.fileName\n        };\n    } catch (error) {\n        console.error(\"Error generating Excel:\", error);\n        // Create a mock Excel file as fallback\n        const mockBuffer = Buffer.from([\n            0x50,\n            0x4b,\n            0x03,\n            0x04,\n            0x14,\n            0x00,\n            0x00,\n            0x00,\n            0x08,\n            0x00,\n            0x00,\n            0x00,\n            0x21,\n            0x00\n        ]);\n        return {\n            fileName: options.fileName,\n            buffer: mockBuffer\n        };\n    }\n}\nconst downloadExcel = (url, fileName = \"converted-document.xlsx\")=>{\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = fileName;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zZXJ2aWNlcy9leGNlbFNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSw4QkFBOEI7QUFjdkIsZUFBZUEsc0JBQ3BCQyxPQUEyRSxFQUMzRUMsT0FBcUI7SUFFckIsSUFBSTtRQUNGLG1EQUFtRDtRQUNuRCxNQUFNQyxPQUFPLE1BQU0saUtBQWM7UUFFakMsTUFBTUMsV0FBV0QsS0FBS0UsS0FBSyxDQUFDQyxRQUFRO1FBRXBDLHVDQUF1QztRQUN2QyxJQUFJSixRQUFRSyxzQkFBc0IsRUFBRTtZQUNsQyxNQUFNQyxlQUEyQixFQUFFO1lBQ25DUCxRQUFRUSxPQUFPLENBQUMsQ0FBQ0M7Z0JBQ2YsSUFBSUEsT0FBT0MsU0FBUyxFQUFFO29CQUNwQkgsYUFBYUksSUFBSSxJQUFJRixPQUFPQyxTQUFTO2dCQUN2QyxPQUFPO29CQUNMSCxhQUFhSSxJQUFJLElBQUlGLE9BQU9HLElBQUksQ0FBQ0MsS0FBSyxDQUFDLE1BQU1DLEdBQUcsQ0FBQyxDQUFDQyxPQUFTOzRCQUFDQTt5QkFBSztnQkFDbkU7WUFDRjtZQUVBLE1BQU1DLGdCQUFnQmQsS0FBS0UsS0FBSyxDQUFDYSxZQUFZLENBQUNWO1lBQzlDTCxLQUFLRSxLQUFLLENBQUNjLGlCQUFpQixDQUFDZixVQUFVYSxlQUFlZixRQUFRa0IsU0FBUyxJQUFJO1FBQzdFLE9BQU87WUFDTCwyQ0FBMkM7WUFDM0NuQixRQUFRUSxPQUFPLENBQUMsQ0FBQ0MsUUFBUVc7Z0JBQ3ZCLE1BQU1ELFlBQVlWLE9BQU9ZLFFBQVEsSUFBSSxDQUFDLEtBQUssRUFBRUQsUUFBUSxHQUFHO2dCQUN4RCxNQUFNRSxZQUFZYixPQUFPQyxTQUFTLElBQUlELE9BQU9HLElBQUksQ0FBQ0MsS0FBSyxDQUFDLE1BQU1DLEdBQUcsQ0FBQyxDQUFDQyxPQUFTO3dCQUFDQTtxQkFBSztnQkFDbEYsTUFBTVEsUUFBUXJCLEtBQUtFLEtBQUssQ0FBQ2EsWUFBWSxDQUFDSztnQkFDdENwQixLQUFLRSxLQUFLLENBQUNjLGlCQUFpQixDQUFDZixVQUFVb0IsT0FBT0o7WUFDaEQ7UUFDRjtRQUVBLDBCQUEwQjtRQUMxQixNQUFNSyxjQUFjdEIsS0FBS3VCLEtBQUssQ0FBQ3RCLFVBQVU7WUFBRXVCLFVBQVU7WUFBUUMsTUFBTTtRQUFTO1FBRTVFLElBQUkxQixRQUFRMkIsWUFBWSxFQUFFO1lBQ3hCLE9BQU87Z0JBQ0xQLFVBQVVwQixRQUFRb0IsUUFBUTtnQkFDMUJRLFFBQVFMO1lBQ1Y7UUFDRjtRQUVBLGlDQUFpQztRQUNqQyxNQUFNTSxPQUFPLElBQUlDLEtBQUs7WUFBQ1A7U0FBWSxFQUFFO1lBQUVHLE1BQU07UUFBb0U7UUFDakgsTUFBTUssTUFBTUMsSUFBSUMsZUFBZSxDQUFDSjtRQUVoQyxPQUFPO1lBQ0xFO1lBQ0FYLFVBQVVwQixRQUFRb0IsUUFBUTtRQUM1QjtJQUNGLEVBQUUsT0FBT2MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtRQUV6Qyx1Q0FBdUM7UUFDdkMsTUFBTUUsYUFBYUMsT0FBT0MsSUFBSSxDQUFDO1lBQUM7WUFBTTtZQUFNO1lBQU07WUFBTTtZQUFNO1lBQU07WUFBTTtZQUFNO1lBQU07WUFBTTtZQUFNO1lBQU07WUFBTTtTQUFLO1FBRW5ILE9BQU87WUFDTGxCLFVBQVVwQixRQUFRb0IsUUFBUTtZQUMxQlEsUUFBUVE7UUFDVjtJQUNGO0FBQ0Y7QUFFTyxNQUFNRyxnQkFBZ0IsQ0FBQ1IsS0FBYVgsV0FBVyx5QkFBeUI7SUFDN0UsTUFBTW9CLE9BQU9DLFNBQVNDLGFBQWEsQ0FBQztJQUNwQ0YsS0FBS0csSUFBSSxHQUFHWjtJQUNaUyxLQUFLSSxRQUFRLEdBQUd4QjtJQUNoQnFCLFNBQVNJLElBQUksQ0FBQ0MsV0FBVyxDQUFDTjtJQUMxQkEsS0FBS08sS0FBSztJQUNWTixTQUFTSSxJQUFJLENBQUNHLFdBQVcsQ0FBQ1I7QUFDNUIsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2RlbmR5YWRpbmlyd2FuYS9EZXNrdG9wL1BSUC1FeGNlbGlmeS9zZXJ2aWNlcy9leGNlbFNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVXNlIGR5bmFtaWMgaW1wb3J0IGZvciBYTFNYXG5pbnRlcmZhY2UgRXhjZWxPcHRpb25zIHtcbiAgZmlsZU5hbWU6IHN0cmluZ1xuICBzaGVldE5hbWU/OiBzdHJpbmdcbiAgY29tYmluZUludG9TaW5nbGVTaGVldD86IGJvb2xlYW5cbiAgcmV0dXJuQnVmZmVyPzogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgRXhjZWxSZXN1bHQge1xuICB1cmw/OiBzdHJpbmdcbiAgZmlsZU5hbWU6IHN0cmluZ1xuICBidWZmZXI/OiBCdWZmZXJcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlRXhjZWxGcm9tVGV4dChcbiAgcmVzdWx0czogQXJyYXk8eyB0ZXh0OiBzdHJpbmc7IHRhYmxlRGF0YT86IHN0cmluZ1tdW107IGZpbGVOYW1lPzogc3RyaW5nIH0+LFxuICBvcHRpb25zOiBFeGNlbE9wdGlvbnMsXG4pOiBQcm9taXNlPEV4Y2VsUmVzdWx0PiB7XG4gIHRyeSB7XG4gICAgLy8gRHluYW1pY2FsbHkgaW1wb3J0IFhMU1ggdG8gZW5zdXJlIGl0J3MgYXZhaWxhYmxlXG4gICAgY29uc3QgWExTWCA9IGF3YWl0IGltcG9ydChcInhsc3hcIilcblxuICAgIGNvbnN0IHdvcmtib29rID0gWExTWC51dGlscy5ib29rX25ldygpXG5cbiAgICAvLyBDcmVhdGUgYSBjb21iaW5lZCBzaGVldCBpZiByZXF1ZXN0ZWRcbiAgICBpZiAob3B0aW9ucy5jb21iaW5lSW50b1NpbmdsZVNoZWV0KSB7XG4gICAgICBjb25zdCBjb21iaW5lZERhdGE6IHN0cmluZ1tdW10gPSBbXVxuICAgICAgcmVzdWx0cy5mb3JFYWNoKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdC50YWJsZURhdGEpIHtcbiAgICAgICAgICBjb21iaW5lZERhdGEucHVzaCguLi5yZXN1bHQudGFibGVEYXRhKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbWJpbmVkRGF0YS5wdXNoKC4uLnJlc3VsdC50ZXh0LnNwbGl0KFwiXFxuXCIpLm1hcCgobGluZSkgPT4gW2xpbmVdKSlcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgY29uc3QgY29tYmluZWRTaGVldCA9IFhMU1gudXRpbHMuYW9hX3RvX3NoZWV0KGNvbWJpbmVkRGF0YSlcbiAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIGNvbWJpbmVkU2hlZXQsIG9wdGlvbnMuc2hlZXROYW1lIHx8IFwiQ29tYmluZWQgUmVzdWx0c1wiKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgaW5kaXZpZHVhbCBzaGVldHMgZm9yIGVhY2ggcmVzdWx0XG4gICAgICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qgc2hlZXROYW1lID0gcmVzdWx0LmZpbGVOYW1lIHx8IGBTaGVldCR7aW5kZXggKyAxfWBcbiAgICAgICAgY29uc3Qgc2hlZXREYXRhID0gcmVzdWx0LnRhYmxlRGF0YSB8fCByZXN1bHQudGV4dC5zcGxpdChcIlxcblwiKS5tYXAoKGxpbmUpID0+IFtsaW5lXSlcbiAgICAgICAgY29uc3Qgc2hlZXQgPSBYTFNYLnV0aWxzLmFvYV90b19zaGVldChzaGVldERhdGEpXG4gICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIHNoZWV0LCBzaGVldE5hbWUpXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIHRoZSBFeGNlbCBmaWxlXG4gICAgY29uc3QgZXhjZWxCdWZmZXIgPSBYTFNYLndyaXRlKHdvcmtib29rLCB7IGJvb2tUeXBlOiBcInhsc3hcIiwgdHlwZTogXCJidWZmZXJcIiB9KVxuXG4gICAgaWYgKG9wdGlvbnMucmV0dXJuQnVmZmVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmaWxlTmFtZTogb3B0aW9ucy5maWxlTmFtZSxcbiAgICAgICAgYnVmZmVyOiBleGNlbEJ1ZmZlcixcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBibG9iIFVSTCBmb3IgZG93bmxvYWRcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2V4Y2VsQnVmZmVyXSwgeyB0eXBlOiBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0XCIgfSlcbiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpXG5cbiAgICByZXR1cm4ge1xuICAgICAgdXJsLFxuICAgICAgZmlsZU5hbWU6IG9wdGlvbnMuZmlsZU5hbWUsXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIEV4Y2VsOlwiLCBlcnJvcilcblxuICAgIC8vIENyZWF0ZSBhIG1vY2sgRXhjZWwgZmlsZSBhcyBmYWxsYmFja1xuICAgIGNvbnN0IG1vY2tCdWZmZXIgPSBCdWZmZXIuZnJvbShbMHg1MCwgMHg0YiwgMHgwMywgMHgwNCwgMHgxNCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwOCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgyMSwgMHgwMF0pXG5cbiAgICByZXR1cm4ge1xuICAgICAgZmlsZU5hbWU6IG9wdGlvbnMuZmlsZU5hbWUsXG4gICAgICBidWZmZXI6IG1vY2tCdWZmZXIsXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkb3dubG9hZEV4Y2VsID0gKHVybDogc3RyaW5nLCBmaWxlTmFtZSA9IFwiY29udmVydGVkLWRvY3VtZW50Lnhsc3hcIikgPT4ge1xuICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIilcbiAgbGluay5ocmVmID0gdXJsXG4gIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZVxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspXG4gIGxpbmsuY2xpY2soKVxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspXG59XG5cbiJdLCJuYW1lcyI6WyJnZW5lcmF0ZUV4Y2VsRnJvbVRleHQiLCJyZXN1bHRzIiwib3B0aW9ucyIsIlhMU1giLCJ3b3JrYm9vayIsInV0aWxzIiwiYm9va19uZXciLCJjb21iaW5lSW50b1NpbmdsZVNoZWV0IiwiY29tYmluZWREYXRhIiwiZm9yRWFjaCIsInJlc3VsdCIsInRhYmxlRGF0YSIsInB1c2giLCJ0ZXh0Iiwic3BsaXQiLCJtYXAiLCJsaW5lIiwiY29tYmluZWRTaGVldCIsImFvYV90b19zaGVldCIsImJvb2tfYXBwZW5kX3NoZWV0Iiwic2hlZXROYW1lIiwiaW5kZXgiLCJmaWxlTmFtZSIsInNoZWV0RGF0YSIsInNoZWV0IiwiZXhjZWxCdWZmZXIiLCJ3cml0ZSIsImJvb2tUeXBlIiwidHlwZSIsInJldHVybkJ1ZmZlciIsImJ1ZmZlciIsImJsb2IiLCJCbG9iIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZXJyb3IiLCJjb25zb2xlIiwibW9ja0J1ZmZlciIsIkJ1ZmZlciIsImZyb20iLCJkb3dubG9hZEV4Y2VsIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./services/excelService.ts\n");

/***/ }),

/***/ "(rsc)/./services/geminiService.ts":
/*!***********************************!*\
  !*** ./services/geminiService.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   processImageWithGemini: () => (/* binding */ processImageWithGemini)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n/* harmony import */ var _excelService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./excelService */ \"(rsc)/./services/excelService.ts\");\n\n\n// Initialize Gemini API with environment variable\nconst GOOGLE_AI_KEY = process.env.GOOGLE_AI_KEY;\nif (!GOOGLE_AI_KEY) {\n    throw new Error(\"GOOGLE_AI_KEY environment variable is not set. Please add it to your .env file.\");\n}\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(GOOGLE_AI_KEY);\n// Retry mechanism for API calls with exponential backoff\nasync function retryApiCall(fn, maxRetries = 3, initialDelay = 2000) {\n    let lastError;\n    for(let attempt = 0; attempt < maxRetries; attempt++){\n        try {\n            // Add a small delay before each request to prevent rate limiting\n            if (attempt > 0) {\n                const delay = initialDelay * Math.pow(2, attempt - 1);\n                await new Promise((resolve)=>setTimeout(resolve, delay));\n            }\n            return await fn();\n        } catch (error) {\n            lastError = error;\n            // If it's not a rate limit error, don't retry\n            if (!error.message?.includes(\"429\") && !error.message?.includes(\"Too Many Requests\")) {\n                throw error;\n            }\n            // If we've hit max retries, throw the error\n            if (attempt === maxRetries - 1) {\n                throw new Error(`Rate limit exceeded after ${maxRetries} attempts. Please try again later.`);\n            }\n        }\n    }\n    throw lastError;\n}\n// Add a delay between API calls\nasync function delay(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\n// Create a default analysis based on the document content\nfunction createDefaultAnalysis(text, language) {\n    // Extract some basic information from the text\n    const wordCount = text.split(/\\s+/).length;\n    const paragraphCount = text.split(/\\n\\s*\\n/).length;\n    const lines = text.split(\"\\n\").length;\n    // Create a simple title based on the first line or first few words\n    let title = text.split(\"\\n\")[0] || \"Document Analysis\";\n    if (title.length > 50) {\n        title = title.substring(0, 47) + \"...\";\n    }\n    return {\n        title: title,\n        keyPoints: [\n            language === \"en\" ? `Document contains approximately ${wordCount} words` : `Dokumen berisi sekitar ${wordCount} kata`,\n            language === \"en\" ? `Content is structured in ${paragraphCount} paragraphs` : `Konten disusun dalam ${paragraphCount} paragraf`,\n            language === \"en\" ? `Text has been successfully extracted and processed` : `Teks telah berhasil diekstrak dan diproses`,\n            language === \"en\" ? `Document has been converted to Excel format` : `Dokumen telah dikonversi ke format Excel`,\n            language === \"en\" ? `Analysis completed with basic content extraction` : `Analisis selesai dengan ekstraksi konten dasar`\n        ],\n        recurringWords: [\n            \"document\",\n            \"content\",\n            \"data\",\n            \"information\",\n            \"text\"\n        ],\n        context: language === \"en\" ? `This document contains ${lines} lines of text that have been processed and converted to Excel format. The content has been structured to maintain the original formatting as closely as possible.` : `Dokumen ini berisi ${lines} baris teks yang telah diproses dan dikonversi ke format Excel. Konten telah disusun untuk mempertahankan format asli sedekat mungkin.`\n    };\n}\n// Function to analyze word frequency and patterns\nasync function analyzeWordFrequency(text) {\n    // Remove common stop words and punctuation\n    const stopWords = new Set([\n        'the',\n        'a',\n        'an',\n        'and',\n        'or',\n        'but',\n        'in',\n        'on',\n        'at',\n        'to',\n        'for',\n        'of',\n        'with',\n        'by'\n    ]);\n    const words = text.toLowerCase().replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, '').split(/\\s+/).filter((word)=>word.length > 2 && !stopWords.has(word));\n    // Count word frequencies\n    const wordFreq = new Map();\n    words.forEach((word)=>{\n        wordFreq.set(word, (wordFreq.get(word) || 0) + 1);\n    });\n    // Calculate significance based on frequency and position\n    const wordAnalysis = Array.from(wordFreq.entries()).map(([word, freq])=>{\n        // Calculate significance based on:\n        // 1. Frequency of occurrence\n        // 2. Position in document (words appearing in first paragraph get higher weight)\n        // 3. Word length (longer words often more significant)\n        const firstParagraph = text.split('\\n\\n')[0].toLowerCase();\n        const positionBonus = firstParagraph.includes(word) ? 1.5 : 1;\n        const lengthBonus = Math.min(word.length / 5, 1.5);\n        const significance = freq * positionBonus * lengthBonus;\n        return {\n            word,\n            frequency: freq,\n            significance\n        };\n    });\n    // Sort by significance and return top results\n    return wordAnalysis.sort((a, b)=>b.significance - a.significance);\n}\n// Enhanced function to analyze text and extract key information\nasync function analyzeTextContext(text, language) {\n    try {\n        if (text.length < 100) {\n            return createDefaultAnalysis(text, language);\n        }\n        // Analyze word frequency\n        const wordAnalysis = await analyzeWordFrequency(text);\n        const topWords = wordAnalysis.slice(0, 10).map((w)=>w.word);\n        const model = genAI.getGenerativeModel({\n            model: \"gemini-2.0-flash\"\n        });\n        const enhancedPrompt = `\n      Analyze the following text and provide a comprehensive analysis:\n      \n      Text to analyze:\n      ${text.substring(0, 4000)} ${text.length > 4000 ? \"... (text truncated for brevity)\" : \"\"}\n      \n      Most significant words identified: ${topWords.join(', ')}\n      Language: ${language}\n      \n      Please provide:\n      1. A concise but descriptive title (max 10 words)\n      2. 5 key points that capture the main insights and implications\n      3. Top 5 most significant recurring concepts or themes (not just individual words)\n      4. A contextual summary that:\n         - Identifies the document type and purpose\n         - Highlights key relationships between concepts\n         - Notes any significant patterns or trends\n         - Provides relevant industry or domain context\n      \n      Format your response as plain text with clear section headers. Do not use any text formatting like bold, italic, or other markdown/HTML formatting in your response.\n    `;\n        const result = await retryApiCall(()=>model.generateContent(enhancedPrompt));\n        const response = await result.response;\n        const analysisText = response.text();\n        // Parse the enhanced analysis\n        const analysis = parseTextAnalysis(analysisText, language);\n        if (analysis) {\n            // Enrich with web search\n            const enrichedContext = await enrichContextWithWebSearch(text, topWords, language);\n            return {\n                ...analysis,\n                context: `${analysis.context}\\n\\nAdditional Context:\\n${enrichedContext}`\n            };\n        }\n        return createDefaultAnalysis(text, language);\n    } catch (error) {\n        console.error(\"Error in text analysis:\", error);\n        return createDefaultAnalysis(text, language);\n    }\n}\n// Parse a plain text analysis response\nfunction parseTextAnalysis(text, language) {\n    try {\n        // Extract title - usually the first line\n        const titleMatch = text.match(/(?:title|judul):\\s*(.+?)(?:\\n|$)/i);\n        const title = titleMatch ? titleMatch[1].trim() : \"Document Analysis\";\n        // Extract key points - look for numbered lists or bullet points\n        const keyPointsSection = text.match(/(?:key points|main points|points|poin utama|poin kunci):([\\s\\S]*?)(?:\\n\\n|\\n[A-Za-z]|$)/i);\n        let keyPoints = [];\n        if (keyPointsSection && keyPointsSection[1]) {\n            // Look for numbered or bulleted list items\n            const pointMatches = keyPointsSection[1].match(/(?:\\d+\\.|\\*|-)\\s*(.+?)(?:\\n|$)/g);\n            if (pointMatches && pointMatches.length > 0) {\n                keyPoints = pointMatches.map((point)=>point.replace(/^\\d+\\.|\\*|-\\s*/, \"\").trim()).filter((point)=>point.length > 0).slice(0, 5);\n            }\n        }\n        // If we couldn't find key points, split by newlines\n        if (keyPoints.length === 0) {\n            const lines = keyPointsSection ? keyPointsSection[1].split(\"\\n\").map((line)=>line.trim()).filter((line)=>line.length > 0) : [];\n            keyPoints = lines.slice(0, 5);\n        }\n        // Ensure we have 5 key points\n        while(keyPoints.length < 5){\n            keyPoints.push(language === \"en\" ? \"Content successfully processed\" : \"Konten berhasil diproses\");\n        }\n        // Extract recurring words\n        const recurringWordsSection = text.match(/(?:recurring words|recurring|words|kata berulang):([\\s\\S]*?)(?:\\n\\n|\\n[A-Za-z]|$)/i);\n        let recurringWords = [];\n        if (recurringWordsSection && recurringWordsSection[1]) {\n            // Look for list items\n            const wordMatches = recurringWordsSection[1].match(/(?:\\d+\\.|\\*|-)\\s*(.+?)(?:\\n|$)/g);\n            if (wordMatches && wordMatches.length > 0) {\n                recurringWords = wordMatches.map((word)=>word.replace(/^\\d+\\.|\\*|-\\s*/, \"\").trim()).filter((word)=>word.length > 0).slice(0, 5);\n            } else {\n                // If no list format, try comma-separated\n                recurringWords = recurringWordsSection[1].split(/,|\\n/).map((word)=>word.trim()).filter((word)=>word.length > 0).slice(0, 5);\n            }\n        }\n        // Ensure we have 5 recurring words\n        while(recurringWords.length < 5){\n            recurringWords.push([\n                \"document\",\n                \"content\",\n                \"data\",\n                \"information\",\n                \"text\"\n            ][recurringWords.length]);\n        }\n        // Extract context\n        const contextSection = text.match(/(?:context|brief context|konteks):([\\s\\S]*?)(?:\\n\\n|\\n[A-Za-z]|$)/i);\n        const context = contextSection && contextSection[1] ? contextSection[1].trim() : language === \"en\" ? \"The document was successfully processed and converted to Excel format.\" : \"Dokumen berhasil diproses dan dikonversi ke format Excel.\";\n        return {\n            title,\n            keyPoints,\n            recurringWords,\n            context\n        };\n    } catch (error) {\n        console.error(\"Error parsing text analysis:\", error);\n        return null;\n    }\n}\n// Enhanced web search function\nasync function enrichContextWithWebSearch(text, significantWords, language) {\n    try {\n        const model = genAI.getGenerativeModel({\n            model: \"gemini-2.0-flash\"\n        });\n        const searchPrompt = `\n      Based on the following text and significant words, provide enriched context and insights.\n      \n      Text excerpt: \n      ${text.substring(0, 2000)}${text.length > 2000 ? \"... (text truncated for brevity)\" : \"\"}\n      \n      Significant Words and Concepts: ${significantWords.join(\", \")}\n      Language: ${language}\n      \n      Please provide:\n      1. Industry or Domain Context:\n         - Relevant background information\n         - Current trends or developments\n         - Common practices or standards\n      \n      2. Related Insights:\n         - Connections to broader themes\n         - Potential implications\n         - Similar cases or examples\n      \n      3. Additional Considerations:\n         - Key challenges or opportunities\n         - Best practices or recommendations\n         - Future outlook\n      \n      Format the response as a well-structured analysis in ${language}, focusing on practical insights and actionable information.\n      Keep the total response under 200 words while maintaining depth and relevance.\n      Do not use any text formatting like bold, italic, or other markdown/HTML formatting in your response.\n    `;\n        const result = await retryApiCall(()=>model.generateContent(searchPrompt));\n        const response = await result.response;\n        return response.text();\n    } catch (error) {\n        console.error(\"Error in context enrichment:\", error);\n        return language === \"en\" ? \"Additional context could not be generated at this time. Please refer to the extracted text for information.\" : \"Konteks tambahan tidak dapat dibuat saat ini. Silakan merujuk ke teks yang diekstrak untuk informasi.\";\n    }\n}\nconst processImageWithGemini = async (imageFile, language, progressCallback)=>{\n    if (!GOOGLE_AI_KEY) {\n        throw new Error(\"Google API key is not configured. Please set GOOGLE_AI_KEY in your .env file\");\n    }\n    try {\n        // Convert the file to a base64 data URL\n        const imageData = await fileToGenerativePart(imageFile);\n        // Set up model parameters based on the language\n        const geminiModel = genAI.getGenerativeModel({\n            model: \"gemini-2.0-flash\"\n        });\n        // Update progress to indicate model loading\n        if (progressCallback) progressCallback(20);\n        // Add initial delay before first API call\n        await delay(1000);\n        // Construct a prompt that specifies what we want Gemini to do\n        const languagePrompt = language === \"en\" ? \"Extract all text from this image, focusing on English content.\" : \"Extract all text from this image, focusing on Bahasa Indonesia content.\";\n        // Add table detection to the prompt\n        const fullPrompt = `${languagePrompt} If the image contains any structured data, tables, or spreadsheet-like content, please organize it as a table. Return your response in a format ready to be converted to an Excel spreadsheet with the correct structure. Maintain column and row alignments as shown in the image. Do not use any text formatting like bold, italic, or other markdown/HTML formatting in your response.`;\n        // Make the API request\n        if (progressCallback) progressCallback(40);\n        // Use retry mechanism for the main OCR process\n        const result = await retryApiCall(()=>geminiModel.generateContent([\n                fullPrompt,\n                imageData\n            ]));\n        if (progressCallback) progressCallback(70);\n        const response = await result.response;\n        const text = response.text();\n        // Process the result to check for table data\n        const tableData = extractTableData(text);\n        // Initialize analysis with placeholder data\n        let analysis = createDefaultAnalysis(text, language);\n        try {\n            // Add delay before analysis\n            await delay(2000);\n            // Perform context analysis\n            if (progressCallback) progressCallback(80);\n            analysis = await analyzeTextContext(text, language);\n            // Only attempt to enrich context if initial analysis succeeded\n            try {\n                // Add delay before enrichment\n                await delay(2000);\n                // Enrich context with web search\n                if (progressCallback) progressCallback(85);\n                const enrichedContext = await enrichContextWithWebSearch(text, analysis.recurringWords, language);\n                analysis.context = enrichedContext;\n            } catch (enrichError) {\n                console.error(\"Error enriching context:\", enrichError);\n            // Keep the original context if enrichment fails\n            }\n        } catch (analysisError) {\n            console.error(\"Error in document analysis:\", analysisError);\n        // Keep using the default analysis\n        }\n        if (progressCallback) progressCallback(90);\n        // Prepare the data for Excel generation\n        const ocrResult = {\n            text,\n            tableData: tableData.length > 0 ? tableData : undefined,\n            fileName: `OCR_Result_${new Date().toISOString().slice(0, 10)}`\n        };\n        // Generate Excel data without downloading\n        let excelData;\n        try {\n            const excelResult = await (0,_excelService__WEBPACK_IMPORTED_MODULE_1__.generateExcelFromText)([\n                ocrResult\n            ], {\n                fileName: ocrResult.fileName + \".xlsx\",\n                sheetName: \"OCR Results\",\n                combineIntoSingleSheet: false,\n                returnBuffer: true\n            });\n            excelData = excelResult.buffer || Buffer.from([]);\n        } catch (excelError) {\n            console.error(\"Error generating Excel:\", excelError);\n            // Create an empty buffer as fallback\n            excelData = Buffer.from([]);\n        }\n        if (progressCallback) progressCallback(100);\n        return {\n            rows: tableData.length > 0 ? tableData : text.split(\"\\n\").map((line)=>[\n                    line\n                ]).filter((row)=>row[0].trim().length > 0),\n            fileName: imageFile.name || `OCR_Result_${new Date().toISOString().slice(0, 10)}`,\n            analysis,\n            excelData\n        };\n    } catch (error) {\n        console.error(\"Error processing image with Gemini:\", error);\n        throw error;\n    }\n};\n// Helper function to convert File to GenerativePart\nasync function fileToGenerativePart(file) {\n    // Check if we're in a browser environment\n    if (false) {} else {\n        // Server-side handling\n        const buffer = await file.arrayBuffer();\n        const base64Content = Buffer.from(buffer).toString(\"base64\");\n        return {\n            inlineData: {\n                data: base64Content,\n                mimeType: file.type\n            }\n        };\n    }\n}\n// Function to extract table data from text with improved pattern recognition\nfunction extractTableData(text) {\n    const lines = text.split(\"\\n\").filter((line)=>line.trim() !== \"\");\n    const tableData = [];\n    let rowsWithSimilarStructure = 0;\n    const possibleDelimiters = [\n        \",\",\n        \"\\t\",\n        \"|\",\n        \";\"\n    ];\n    const patterns = {\n        csv: /(?:^|,)(\"(?:[^\"]+|\"\")*\"|[^,]*)/g,\n        table: /\\|\\s*([^|]+)\\s*\\|/g,\n        whitespace: /\\s{2,}/g\n    };\n    // First pass: Try to detect table structure\n    const sampleSize = Math.min(5, lines.length);\n    const structureScores = {\n        csv: 0,\n        table: 0,\n        whitespace: 0\n    };\n    for (const line of lines){\n        let bestDelimiter = \"\";\n        let maxSplits = 0;\n        // Check for structured data using delimiters\n        for (const delimiter of possibleDelimiters){\n            const splits = line.split(delimiter).length - 1;\n            if (splits > maxSplits) {\n                maxSplits = splits;\n                bestDelimiter = delimiter;\n            }\n        }\n        if (maxSplits > 1) {\n            rowsWithSimilarStructure++;\n            const row = line.split(bestDelimiter).map((cell)=>cell.trim()).filter((cell)=>cell.length > 0);\n            if (row.length > 0) {\n                tableData.push(row);\n            }\n        } else if (line.match(patterns.whitespace)) {\n            // Try whitespace separation as fallback\n            const row = line.split(patterns.whitespace).filter((cell)=>cell.trim().length > 0);\n            if (row.length > 1) {\n                tableData.push(row);\n                rowsWithSimilarStructure++;\n            }\n        }\n    }\n    // Return empty array if not enough evidence of tabular data\n    return rowsWithSimilarStructure >= 2 ? tableData : [];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WSxHQUFHO1lBQ2pCVDtZQUNBLE1BQU1wQixNQUFNakMsS0FDVDdELEtBQUssQ0FBQzBILGVBQ04vRixHQUFHLENBQUMsQ0FBQ21HLE9BQVNBLEtBQUtyRSxJQUFJLElBQ3ZCMUMsTUFBTSxDQUFDLENBQUMrRyxPQUFTQSxLQUFLN0gsTUFBTSxHQUFHO1lBQ2xDLElBQUk2RixJQUFJN0YsTUFBTSxHQUFHLEdBQUc7Z0JBQ2xCMkUsVUFBVWQsSUFBSSxDQUFDZ0M7WUFDakI7UUFDRixPQUFPLElBQUlqQyxLQUFLTCxLQUFLLENBQUM0RCxTQUFTRyxVQUFVLEdBQUc7WUFDMUMsd0NBQXdDO1lBQ3hDLE1BQU16QixNQUFNakMsS0FBSzdELEtBQUssQ0FBQ29ILFNBQVNHLFVBQVUsRUFBRXhHLE1BQU0sQ0FBQyxDQUFDK0csT0FBU0EsS0FBS3JFLElBQUksR0FBR3hELE1BQU0sR0FBRztZQUNsRixJQUFJNkYsSUFBSTdGLE1BQU0sR0FBRyxHQUFHO2dCQUNsQjJFLFVBQVVkLElBQUksQ0FBQ2dDO2dCQUNmb0I7WUFDRjtRQUNGO0lBQ0Y7SUFFQSw0REFBNEQ7SUFDNUQsT0FBT0EsNEJBQTRCLElBQUl0QyxZQUFZLEVBQUU7QUFDdkQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kZW5keWFkaW5pcndhbmEvRGVza3RvcC9QUlAtRXhjZWxpZnkvc2VydmljZXMvZ2VtaW5pU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUksIHR5cGUgUGFydCB9IGZyb20gXCJAZ29vZ2xlL2dlbmVyYXRpdmUtYWlcIlxuaW1wb3J0IHsgZ2VuZXJhdGVFeGNlbEZyb21UZXh0IH0gZnJvbSBcIi4vZXhjZWxTZXJ2aWNlXCJcblxuLy8gSW5pdGlhbGl6ZSBHZW1pbmkgQVBJIHdpdGggZW52aXJvbm1lbnQgdmFyaWFibGVcbmNvbnN0IEdPT0dMRV9BSV9LRVkgPSBwcm9jZXNzLmVudi5HT09HTEVfQUlfS0VZXG5pZiAoIUdPT0dMRV9BSV9LRVkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiR09PR0xFX0FJX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3Qgc2V0LiBQbGVhc2UgYWRkIGl0IHRvIHlvdXIgLmVudiBmaWxlLlwiKVxufVxuXG5jb25zdCBnZW5BSSA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUkoR09PR0xFX0FJX0tFWSlcblxuaW50ZXJmYWNlIE9DUlJlc3VsdCB7XG4gIHRleHQ6IHN0cmluZ1xuICB0YWJsZURhdGE/OiBzdHJpbmdbXVtdXG4gIGZpbGVOYW1lPzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBQcm9jZXNzZWREYXRhIHtcbiAgcm93czogc3RyaW5nW11bXVxuICBmaWxlTmFtZTogc3RyaW5nXG4gIGFuYWx5c2lzPzoge1xuICAgIHRpdGxlOiBzdHJpbmdcbiAgICBrZXlQb2ludHM6IHN0cmluZ1tdXG4gICAgcmVjdXJyaW5nV29yZHM6IHN0cmluZ1tdXG4gICAgY29udGV4dDogc3RyaW5nXG4gIH1cbiAgZXhjZWxEYXRhOiBCdWZmZXJcbn1cblxuLy8gUmV0cnkgbWVjaGFuaXNtIGZvciBBUEkgY2FsbHMgd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmXG5hc3luYyBmdW5jdGlvbiByZXRyeUFwaUNhbGw8VD4oZm46ICgpID0+IFByb21pc2U8VD4sIG1heFJldHJpZXMgPSAzLCBpbml0aWFsRGVsYXkgPSAyMDAwKTogUHJvbWlzZTxUPiB7XG4gIGxldCBsYXN0RXJyb3I6IGFueVxuXG4gIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgbWF4UmV0cmllczsgYXR0ZW1wdCsrKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEFkZCBhIHNtYWxsIGRlbGF5IGJlZm9yZSBlYWNoIHJlcXVlc3QgdG8gcHJldmVudCByYXRlIGxpbWl0aW5nXG4gICAgICBpZiAoYXR0ZW1wdCA+IDApIHtcbiAgICAgICAgY29uc3QgZGVsYXkgPSBpbml0aWFsRGVsYXkgKiBNYXRoLnBvdygyLCBhdHRlbXB0IC0gMSlcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgZm4oKVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGxhc3RFcnJvciA9IGVycm9yXG5cbiAgICAgIC8vIElmIGl0J3Mgbm90IGEgcmF0ZSBsaW1pdCBlcnJvciwgZG9uJ3QgcmV0cnlcbiAgICAgIGlmICghZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoXCI0MjlcIikgJiYgIWVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKFwiVG9vIE1hbnkgUmVxdWVzdHNcIikpIHtcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UndmUgaGl0IG1heCByZXRyaWVzLCB0aHJvdyB0aGUgZXJyb3JcbiAgICAgIGlmIChhdHRlbXB0ID09PSBtYXhSZXRyaWVzIC0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJhdGUgbGltaXQgZXhjZWVkZWQgYWZ0ZXIgJHttYXhSZXRyaWVzfSBhdHRlbXB0cy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5gKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRocm93IGxhc3RFcnJvclxufVxuXG4vLyBBZGQgYSBkZWxheSBiZXR3ZWVuIEFQSSBjYWxsc1xuYXN5bmMgZnVuY3Rpb24gZGVsYXkobXM6IG51bWJlcikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKVxufVxuXG4vLyBDcmVhdGUgYSBkZWZhdWx0IGFuYWx5c2lzIGJhc2VkIG9uIHRoZSBkb2N1bWVudCBjb250ZW50XG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0QW5hbHlzaXMoXG4gIHRleHQ6IHN0cmluZyxcbiAgbGFuZ3VhZ2U6IHN0cmluZyxcbik6IHtcbiAgdGl0bGU6IHN0cmluZ1xuICBrZXlQb2ludHM6IHN0cmluZ1tdXG4gIHJlY3VycmluZ1dvcmRzOiBzdHJpbmdbXVxuICBjb250ZXh0OiBzdHJpbmdcbn0ge1xuICAvLyBFeHRyYWN0IHNvbWUgYmFzaWMgaW5mb3JtYXRpb24gZnJvbSB0aGUgdGV4dFxuICBjb25zdCB3b3JkQ291bnQgPSB0ZXh0LnNwbGl0KC9cXHMrLykubGVuZ3RoXG4gIGNvbnN0IHBhcmFncmFwaENvdW50ID0gdGV4dC5zcGxpdCgvXFxuXFxzKlxcbi8pLmxlbmd0aFxuICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoXCJcXG5cIikubGVuZ3RoXG5cbiAgLy8gQ3JlYXRlIGEgc2ltcGxlIHRpdGxlIGJhc2VkIG9uIHRoZSBmaXJzdCBsaW5lIG9yIGZpcnN0IGZldyB3b3Jkc1xuICBsZXQgdGl0bGUgPSB0ZXh0LnNwbGl0KFwiXFxuXCIpWzBdIHx8IFwiRG9jdW1lbnQgQW5hbHlzaXNcIlxuICBpZiAodGl0bGUubGVuZ3RoID4gNTApIHtcbiAgICB0aXRsZSA9IHRpdGxlLnN1YnN0cmluZygwLCA0NykgKyBcIi4uLlwiXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRpdGxlOiB0aXRsZSxcbiAgICBrZXlQb2ludHM6IFtcbiAgICAgIGxhbmd1YWdlID09PSBcImVuXCJcbiAgICAgICAgPyBgRG9jdW1lbnQgY29udGFpbnMgYXBwcm94aW1hdGVseSAke3dvcmRDb3VudH0gd29yZHNgXG4gICAgICAgIDogYERva3VtZW4gYmVyaXNpIHNla2l0YXIgJHt3b3JkQ291bnR9IGthdGFgLFxuICAgICAgbGFuZ3VhZ2UgPT09IFwiZW5cIlxuICAgICAgICA/IGBDb250ZW50IGlzIHN0cnVjdHVyZWQgaW4gJHtwYXJhZ3JhcGhDb3VudH0gcGFyYWdyYXBoc2BcbiAgICAgICAgOiBgS29udGVuIGRpc3VzdW4gZGFsYW0gJHtwYXJhZ3JhcGhDb3VudH0gcGFyYWdyYWZgLFxuICAgICAgbGFuZ3VhZ2UgPT09IFwiZW5cIlxuICAgICAgICA/IGBUZXh0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBleHRyYWN0ZWQgYW5kIHByb2Nlc3NlZGBcbiAgICAgICAgOiBgVGVrcyB0ZWxhaCBiZXJoYXNpbCBkaWVrc3RyYWsgZGFuIGRpcHJvc2VzYCxcbiAgICAgIGxhbmd1YWdlID09PSBcImVuXCIgPyBgRG9jdW1lbnQgaGFzIGJlZW4gY29udmVydGVkIHRvIEV4Y2VsIGZvcm1hdGAgOiBgRG9rdW1lbiB0ZWxhaCBkaWtvbnZlcnNpIGtlIGZvcm1hdCBFeGNlbGAsXG4gICAgICBsYW5ndWFnZSA9PT0gXCJlblwiXG4gICAgICAgID8gYEFuYWx5c2lzIGNvbXBsZXRlZCB3aXRoIGJhc2ljIGNvbnRlbnQgZXh0cmFjdGlvbmBcbiAgICAgICAgOiBgQW5hbGlzaXMgc2VsZXNhaSBkZW5nYW4gZWtzdHJha3NpIGtvbnRlbiBkYXNhcmAsXG4gICAgXSxcbiAgICByZWN1cnJpbmdXb3JkczogW1wiZG9jdW1lbnRcIiwgXCJjb250ZW50XCIsIFwiZGF0YVwiLCBcImluZm9ybWF0aW9uXCIsIFwidGV4dFwiXSxcbiAgICBjb250ZXh0OlxuICAgICAgbGFuZ3VhZ2UgPT09IFwiZW5cIlxuICAgICAgICA/IGBUaGlzIGRvY3VtZW50IGNvbnRhaW5zICR7bGluZXN9IGxpbmVzIG9mIHRleHQgdGhhdCBoYXZlIGJlZW4gcHJvY2Vzc2VkIGFuZCBjb252ZXJ0ZWQgdG8gRXhjZWwgZm9ybWF0LiBUaGUgY29udGVudCBoYXMgYmVlbiBzdHJ1Y3R1cmVkIHRvIG1haW50YWluIHRoZSBvcmlnaW5hbCBmb3JtYXR0aW5nIGFzIGNsb3NlbHkgYXMgcG9zc2libGUuYFxuICAgICAgICA6IGBEb2t1bWVuIGluaSBiZXJpc2kgJHtsaW5lc30gYmFyaXMgdGVrcyB5YW5nIHRlbGFoIGRpcHJvc2VzIGRhbiBkaWtvbnZlcnNpIGtlIGZvcm1hdCBFeGNlbC4gS29udGVuIHRlbGFoIGRpc3VzdW4gdW50dWsgbWVtcGVydGFoYW5rYW4gZm9ybWF0IGFzbGkgc2VkZWthdCBtdW5na2luLmAsXG4gIH1cbn1cblxuLy8gRnVuY3Rpb24gdG8gYW5hbHl6ZSB3b3JkIGZyZXF1ZW5jeSBhbmQgcGF0dGVybnNcbmFzeW5jIGZ1bmN0aW9uIGFuYWx5emVXb3JkRnJlcXVlbmN5KHRleHQ6IHN0cmluZyk6IFByb21pc2U8eyB3b3JkOiBzdHJpbmc7IGZyZXF1ZW5jeTogbnVtYmVyOyBzaWduaWZpY2FuY2U6IG51bWJlciB9W10+IHtcbiAgLy8gUmVtb3ZlIGNvbW1vbiBzdG9wIHdvcmRzIGFuZCBwdW5jdHVhdGlvblxuICBjb25zdCBzdG9wV29yZHMgPSBuZXcgU2V0KFsndGhlJywgJ2EnLCAnYW4nLCAnYW5kJywgJ29yJywgJ2J1dCcsICdpbicsICdvbicsICdhdCcsICd0bycsICdmb3InLCAnb2YnLCAnd2l0aCcsICdieSddKTtcbiAgY29uc3Qgd29yZHMgPSB0ZXh0LnRvTG93ZXJDYXNlKClcbiAgICAucmVwbGFjZSgvWy4sXFwvIyEkJVxcXiZcXCo7Ont9PVxcLV9gfigpXS9nLCAnJylcbiAgICAuc3BsaXQoL1xccysvKVxuICAgIC5maWx0ZXIod29yZCA9PiB3b3JkLmxlbmd0aCA+IDIgJiYgIXN0b3BXb3Jkcy5oYXMod29yZCkpO1xuXG4gIC8vIENvdW50IHdvcmQgZnJlcXVlbmNpZXNcbiAgY29uc3Qgd29yZEZyZXEgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICB3b3Jkcy5mb3JFYWNoKHdvcmQgPT4ge1xuICAgIHdvcmRGcmVxLnNldCh3b3JkLCAod29yZEZyZXEuZ2V0KHdvcmQpIHx8IDApICsgMSk7XG4gIH0pO1xuXG4gIC8vIENhbGN1bGF0ZSBzaWduaWZpY2FuY2UgYmFzZWQgb24gZnJlcXVlbmN5IGFuZCBwb3NpdGlvblxuICBjb25zdCB3b3JkQW5hbHlzaXMgPSBBcnJheS5mcm9tKHdvcmRGcmVxLmVudHJpZXMoKSkubWFwKChbd29yZCwgZnJlcV0pID0+IHtcbiAgICAvLyBDYWxjdWxhdGUgc2lnbmlmaWNhbmNlIGJhc2VkIG9uOlxuICAgIC8vIDEuIEZyZXF1ZW5jeSBvZiBvY2N1cnJlbmNlXG4gICAgLy8gMi4gUG9zaXRpb24gaW4gZG9jdW1lbnQgKHdvcmRzIGFwcGVhcmluZyBpbiBmaXJzdCBwYXJhZ3JhcGggZ2V0IGhpZ2hlciB3ZWlnaHQpXG4gICAgLy8gMy4gV29yZCBsZW5ndGggKGxvbmdlciB3b3JkcyBvZnRlbiBtb3JlIHNpZ25pZmljYW50KVxuICAgIGNvbnN0IGZpcnN0UGFyYWdyYXBoID0gdGV4dC5zcGxpdCgnXFxuXFxuJylbMF0udG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBwb3NpdGlvbkJvbnVzID0gZmlyc3RQYXJhZ3JhcGguaW5jbHVkZXMod29yZCkgPyAxLjUgOiAxO1xuICAgIGNvbnN0IGxlbmd0aEJvbnVzID0gTWF0aC5taW4od29yZC5sZW5ndGggLyA1LCAxLjUpO1xuICAgIGNvbnN0IHNpZ25pZmljYW5jZSA9IGZyZXEgKiBwb3NpdGlvbkJvbnVzICogbGVuZ3RoQm9udXM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgd29yZCxcbiAgICAgIGZyZXF1ZW5jeTogZnJlcSxcbiAgICAgIHNpZ25pZmljYW5jZVxuICAgIH07XG4gIH0pO1xuXG4gIC8vIFNvcnQgYnkgc2lnbmlmaWNhbmNlIGFuZCByZXR1cm4gdG9wIHJlc3VsdHNcbiAgcmV0dXJuIHdvcmRBbmFseXNpcy5zb3J0KChhLCBiKSA9PiBiLnNpZ25pZmljYW5jZSAtIGEuc2lnbmlmaWNhbmNlKTtcbn1cblxuLy8gRW5oYW5jZWQgZnVuY3Rpb24gdG8gYW5hbHl6ZSB0ZXh0IGFuZCBleHRyYWN0IGtleSBpbmZvcm1hdGlvblxuYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZVRleHRDb250ZXh0KFxuICB0ZXh0OiBzdHJpbmcsXG4gIGxhbmd1YWdlOiBzdHJpbmcsXG4pOiBQcm9taXNlPHtcbiAgdGl0bGU6IHN0cmluZ1xuICBrZXlQb2ludHM6IHN0cmluZ1tdXG4gIHJlY3VycmluZ1dvcmRzOiBzdHJpbmdbXVxuICBjb250ZXh0OiBzdHJpbmdcbn0+IHtcbiAgdHJ5IHtcbiAgICBpZiAodGV4dC5sZW5ndGggPCAxMDApIHtcbiAgICAgIHJldHVybiBjcmVhdGVEZWZhdWx0QW5hbHlzaXModGV4dCwgbGFuZ3VhZ2UpO1xuICAgIH1cblxuICAgIC8vIEFuYWx5emUgd29yZCBmcmVxdWVuY3lcbiAgICBjb25zdCB3b3JkQW5hbHlzaXMgPSBhd2FpdCBhbmFseXplV29yZEZyZXF1ZW5jeSh0ZXh0KTtcbiAgICBjb25zdCB0b3BXb3JkcyA9IHdvcmRBbmFseXNpcy5zbGljZSgwLCAxMCkubWFwKHcgPT4gdy53b3JkKTtcblxuICAgIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZ2VtaW5pLTIuMC1mbGFzaFwiIH0pO1xuXG4gICAgY29uc3QgZW5oYW5jZWRQcm9tcHQgPSBgXG4gICAgICBBbmFseXplIHRoZSBmb2xsb3dpbmcgdGV4dCBhbmQgcHJvdmlkZSBhIGNvbXByZWhlbnNpdmUgYW5hbHlzaXM6XG4gICAgICBcbiAgICAgIFRleHQgdG8gYW5hbHl6ZTpcbiAgICAgICR7dGV4dC5zdWJzdHJpbmcoMCwgNDAwMCl9ICR7dGV4dC5sZW5ndGggPiA0MDAwID8gXCIuLi4gKHRleHQgdHJ1bmNhdGVkIGZvciBicmV2aXR5KVwiIDogXCJcIn1cbiAgICAgIFxuICAgICAgTW9zdCBzaWduaWZpY2FudCB3b3JkcyBpZGVudGlmaWVkOiAke3RvcFdvcmRzLmpvaW4oJywgJyl9XG4gICAgICBMYW5ndWFnZTogJHtsYW5ndWFnZX1cbiAgICAgIFxuICAgICAgUGxlYXNlIHByb3ZpZGU6XG4gICAgICAxLiBBIGNvbmNpc2UgYnV0IGRlc2NyaXB0aXZlIHRpdGxlIChtYXggMTAgd29yZHMpXG4gICAgICAyLiA1IGtleSBwb2ludHMgdGhhdCBjYXB0dXJlIHRoZSBtYWluIGluc2lnaHRzIGFuZCBpbXBsaWNhdGlvbnNcbiAgICAgIDMuIFRvcCA1IG1vc3Qgc2lnbmlmaWNhbnQgcmVjdXJyaW5nIGNvbmNlcHRzIG9yIHRoZW1lcyAobm90IGp1c3QgaW5kaXZpZHVhbCB3b3JkcylcbiAgICAgIDQuIEEgY29udGV4dHVhbCBzdW1tYXJ5IHRoYXQ6XG4gICAgICAgICAtIElkZW50aWZpZXMgdGhlIGRvY3VtZW50IHR5cGUgYW5kIHB1cnBvc2VcbiAgICAgICAgIC0gSGlnaGxpZ2h0cyBrZXkgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIGNvbmNlcHRzXG4gICAgICAgICAtIE5vdGVzIGFueSBzaWduaWZpY2FudCBwYXR0ZXJucyBvciB0cmVuZHNcbiAgICAgICAgIC0gUHJvdmlkZXMgcmVsZXZhbnQgaW5kdXN0cnkgb3IgZG9tYWluIGNvbnRleHRcbiAgICAgIFxuICAgICAgRm9ybWF0IHlvdXIgcmVzcG9uc2UgYXMgcGxhaW4gdGV4dCB3aXRoIGNsZWFyIHNlY3Rpb24gaGVhZGVycy4gRG8gbm90IHVzZSBhbnkgdGV4dCBmb3JtYXR0aW5nIGxpa2UgYm9sZCwgaXRhbGljLCBvciBvdGhlciBtYXJrZG93bi9IVE1MIGZvcm1hdHRpbmcgaW4geW91ciByZXNwb25zZS5cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV0cnlBcGlDYWxsKCgpID0+IG1vZGVsLmdlbmVyYXRlQ29udGVudChlbmhhbmNlZFByb21wdCkpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzdWx0LnJlc3BvbnNlO1xuICAgIGNvbnN0IGFuYWx5c2lzVGV4dCA9IHJlc3BvbnNlLnRleHQoKTtcblxuICAgIC8vIFBhcnNlIHRoZSBlbmhhbmNlZCBhbmFseXNpc1xuICAgIGNvbnN0IGFuYWx5c2lzID0gcGFyc2VUZXh0QW5hbHlzaXMoYW5hbHlzaXNUZXh0LCBsYW5ndWFnZSk7XG5cbiAgICBpZiAoYW5hbHlzaXMpIHtcbiAgICAgIC8vIEVucmljaCB3aXRoIHdlYiBzZWFyY2hcbiAgICAgIGNvbnN0IGVucmljaGVkQ29udGV4dCA9IGF3YWl0IGVucmljaENvbnRleHRXaXRoV2ViU2VhcmNoKHRleHQsIHRvcFdvcmRzLCBsYW5ndWFnZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5hbmFseXNpcyxcbiAgICAgICAgY29udGV4dDogYCR7YW5hbHlzaXMuY29udGV4dH1cXG5cXG5BZGRpdGlvbmFsIENvbnRleHQ6XFxuJHtlbnJpY2hlZENvbnRleHR9YFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlRGVmYXVsdEFuYWx5c2lzKHRleHQsIGxhbmd1YWdlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gdGV4dCBhbmFseXNpczpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBjcmVhdGVEZWZhdWx0QW5hbHlzaXModGV4dCwgbGFuZ3VhZ2UpO1xuICB9XG59XG5cbi8vIFBhcnNlIGEgcGxhaW4gdGV4dCBhbmFseXNpcyByZXNwb25zZVxuZnVuY3Rpb24gcGFyc2VUZXh0QW5hbHlzaXMoXG4gIHRleHQ6IHN0cmluZyxcbiAgbGFuZ3VhZ2U6IHN0cmluZyxcbik6IHtcbiAgdGl0bGU6IHN0cmluZ1xuICBrZXlQb2ludHM6IHN0cmluZ1tdXG4gIHJlY3VycmluZ1dvcmRzOiBzdHJpbmdbXVxuICBjb250ZXh0OiBzdHJpbmdcbn0gfCBudWxsIHtcbiAgdHJ5IHtcbiAgICAvLyBFeHRyYWN0IHRpdGxlIC0gdXN1YWxseSB0aGUgZmlyc3QgbGluZVxuICAgIGNvbnN0IHRpdGxlTWF0Y2ggPSB0ZXh0Lm1hdGNoKC8oPzp0aXRsZXxqdWR1bCk6XFxzKiguKz8pKD86XFxufCQpL2kpXG4gICAgY29uc3QgdGl0bGUgPSB0aXRsZU1hdGNoID8gdGl0bGVNYXRjaFsxXS50cmltKCkgOiBcIkRvY3VtZW50IEFuYWx5c2lzXCJcblxuICAgIC8vIEV4dHJhY3Qga2V5IHBvaW50cyAtIGxvb2sgZm9yIG51bWJlcmVkIGxpc3RzIG9yIGJ1bGxldCBwb2ludHNcbiAgICBjb25zdCBrZXlQb2ludHNTZWN0aW9uID0gdGV4dC5tYXRjaChcbiAgICAgIC8oPzprZXkgcG9pbnRzfG1haW4gcG9pbnRzfHBvaW50c3xwb2luIHV0YW1hfHBvaW4ga3VuY2kpOihbXFxzXFxTXSo/KSg/OlxcblxcbnxcXG5bQS1aYS16XXwkKS9pLFxuICAgIClcbiAgICBsZXQga2V5UG9pbnRzOiBzdHJpbmdbXSA9IFtdXG5cbiAgICBpZiAoa2V5UG9pbnRzU2VjdGlvbiAmJiBrZXlQb2ludHNTZWN0aW9uWzFdKSB7XG4gICAgICAvLyBMb29rIGZvciBudW1iZXJlZCBvciBidWxsZXRlZCBsaXN0IGl0ZW1zXG4gICAgICBjb25zdCBwb2ludE1hdGNoZXMgPSBrZXlQb2ludHNTZWN0aW9uWzFdLm1hdGNoKC8oPzpcXGQrXFwufFxcKnwtKVxccyooLis/KSg/OlxcbnwkKS9nKVxuICAgICAgaWYgKHBvaW50TWF0Y2hlcyAmJiBwb2ludE1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBrZXlQb2ludHMgPSBwb2ludE1hdGNoZXNcbiAgICAgICAgICAubWFwKChwb2ludCkgPT4gcG9pbnQucmVwbGFjZSgvXlxcZCtcXC58XFwqfC1cXHMqLywgXCJcIikudHJpbSgpKVxuICAgICAgICAgIC5maWx0ZXIoKHBvaW50KSA9PiBwb2ludC5sZW5ndGggPiAwKVxuICAgICAgICAgIC5zbGljZSgwLCA1KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHdlIGNvdWxkbid0IGZpbmQga2V5IHBvaW50cywgc3BsaXQgYnkgbmV3bGluZXNcbiAgICBpZiAoa2V5UG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgbGluZXMgPSBrZXlQb2ludHNTZWN0aW9uXG4gICAgICAgID8ga2V5UG9pbnRzU2VjdGlvblsxXVxuICAgICAgICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAgICAgICAubWFwKChsaW5lKSA9PiBsaW5lLnRyaW0oKSlcbiAgICAgICAgICAgIC5maWx0ZXIoKGxpbmUpID0+IGxpbmUubGVuZ3RoID4gMClcbiAgICAgICAgOiBbXVxuICAgICAga2V5UG9pbnRzID0gbGluZXMuc2xpY2UoMCwgNSlcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgd2UgaGF2ZSA1IGtleSBwb2ludHNcbiAgICB3aGlsZSAoa2V5UG9pbnRzLmxlbmd0aCA8IDUpIHtcbiAgICAgIGtleVBvaW50cy5wdXNoKGxhbmd1YWdlID09PSBcImVuXCIgPyBcIkNvbnRlbnQgc3VjY2Vzc2Z1bGx5IHByb2Nlc3NlZFwiIDogXCJLb250ZW4gYmVyaGFzaWwgZGlwcm9zZXNcIilcbiAgICB9XG5cbiAgICAvLyBFeHRyYWN0IHJlY3VycmluZyB3b3Jkc1xuICAgIGNvbnN0IHJlY3VycmluZ1dvcmRzU2VjdGlvbiA9IHRleHQubWF0Y2goXG4gICAgICAvKD86cmVjdXJyaW5nIHdvcmRzfHJlY3VycmluZ3x3b3Jkc3xrYXRhIGJlcnVsYW5nKTooW1xcc1xcU10qPykoPzpcXG5cXG58XFxuW0EtWmEtel18JCkvaSxcbiAgICApXG4gICAgbGV0IHJlY3VycmluZ1dvcmRzOiBzdHJpbmdbXSA9IFtdXG5cbiAgICBpZiAocmVjdXJyaW5nV29yZHNTZWN0aW9uICYmIHJlY3VycmluZ1dvcmRzU2VjdGlvblsxXSkge1xuICAgICAgLy8gTG9vayBmb3IgbGlzdCBpdGVtc1xuICAgICAgY29uc3Qgd29yZE1hdGNoZXMgPSByZWN1cnJpbmdXb3Jkc1NlY3Rpb25bMV0ubWF0Y2goLyg/OlxcZCtcXC58XFwqfC0pXFxzKiguKz8pKD86XFxufCQpL2cpXG4gICAgICBpZiAod29yZE1hdGNoZXMgJiYgd29yZE1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZWN1cnJpbmdXb3JkcyA9IHdvcmRNYXRjaGVzXG4gICAgICAgICAgLm1hcCgod29yZCkgPT4gd29yZC5yZXBsYWNlKC9eXFxkK1xcLnxcXCp8LVxccyovLCBcIlwiKS50cmltKCkpXG4gICAgICAgICAgLmZpbHRlcigod29yZCkgPT4gd29yZC5sZW5ndGggPiAwKVxuICAgICAgICAgIC5zbGljZSgwLCA1KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgbm8gbGlzdCBmb3JtYXQsIHRyeSBjb21tYS1zZXBhcmF0ZWRcbiAgICAgICAgcmVjdXJyaW5nV29yZHMgPSByZWN1cnJpbmdXb3Jkc1NlY3Rpb25bMV1cbiAgICAgICAgICAuc3BsaXQoLyx8XFxuLylcbiAgICAgICAgICAubWFwKCh3b3JkKSA9PiB3b3JkLnRyaW0oKSlcbiAgICAgICAgICAuZmlsdGVyKCh3b3JkKSA9PiB3b3JkLmxlbmd0aCA+IDApXG4gICAgICAgICAgLnNsaWNlKDAsIDUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgNSByZWN1cnJpbmcgd29yZHNcbiAgICB3aGlsZSAocmVjdXJyaW5nV29yZHMubGVuZ3RoIDwgNSkge1xuICAgICAgcmVjdXJyaW5nV29yZHMucHVzaChbXCJkb2N1bWVudFwiLCBcImNvbnRlbnRcIiwgXCJkYXRhXCIsIFwiaW5mb3JtYXRpb25cIiwgXCJ0ZXh0XCJdW3JlY3VycmluZ1dvcmRzLmxlbmd0aF0pXG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCBjb250ZXh0XG4gICAgY29uc3QgY29udGV4dFNlY3Rpb24gPSB0ZXh0Lm1hdGNoKC8oPzpjb250ZXh0fGJyaWVmIGNvbnRleHR8a29udGVrcyk6KFtcXHNcXFNdKj8pKD86XFxuXFxufFxcbltBLVphLXpdfCQpL2kpXG4gICAgY29uc3QgY29udGV4dCA9XG4gICAgICBjb250ZXh0U2VjdGlvbiAmJiBjb250ZXh0U2VjdGlvblsxXVxuICAgICAgICA/IGNvbnRleHRTZWN0aW9uWzFdLnRyaW0oKVxuICAgICAgICA6IGxhbmd1YWdlID09PSBcImVuXCJcbiAgICAgICAgICA/IFwiVGhlIGRvY3VtZW50IHdhcyBzdWNjZXNzZnVsbHkgcHJvY2Vzc2VkIGFuZCBjb252ZXJ0ZWQgdG8gRXhjZWwgZm9ybWF0LlwiXG4gICAgICAgICAgOiBcIkRva3VtZW4gYmVyaGFzaWwgZGlwcm9zZXMgZGFuIGRpa29udmVyc2kga2UgZm9ybWF0IEV4Y2VsLlwiXG5cbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGUsXG4gICAgICBrZXlQb2ludHMsXG4gICAgICByZWN1cnJpbmdXb3JkcyxcbiAgICAgIGNvbnRleHQsXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIHRleHQgYW5hbHlzaXM6XCIsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuLy8gRW5oYW5jZWQgd2ViIHNlYXJjaCBmdW5jdGlvblxuYXN5bmMgZnVuY3Rpb24gZW5yaWNoQ29udGV4dFdpdGhXZWJTZWFyY2godGV4dDogc3RyaW5nLCBzaWduaWZpY2FudFdvcmRzOiBzdHJpbmdbXSwgbGFuZ3VhZ2U6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgbW9kZWwgPSBnZW5BSS5nZXRHZW5lcmF0aXZlTW9kZWwoeyBtb2RlbDogXCJnZW1pbmktMi4wLWZsYXNoXCIgfSk7XG5cbiAgICBjb25zdCBzZWFyY2hQcm9tcHQgPSBgXG4gICAgICBCYXNlZCBvbiB0aGUgZm9sbG93aW5nIHRleHQgYW5kIHNpZ25pZmljYW50IHdvcmRzLCBwcm92aWRlIGVucmljaGVkIGNvbnRleHQgYW5kIGluc2lnaHRzLlxuICAgICAgXG4gICAgICBUZXh0IGV4Y2VycHQ6IFxuICAgICAgJHt0ZXh0LnN1YnN0cmluZygwLCAyMDAwKX0ke3RleHQubGVuZ3RoID4gMjAwMCA/IFwiLi4uICh0ZXh0IHRydW5jYXRlZCBmb3IgYnJldml0eSlcIiA6IFwiXCJ9XG4gICAgICBcbiAgICAgIFNpZ25pZmljYW50IFdvcmRzIGFuZCBDb25jZXB0czogJHtzaWduaWZpY2FudFdvcmRzLmpvaW4oXCIsIFwiKX1cbiAgICAgIExhbmd1YWdlOiAke2xhbmd1YWdlfVxuICAgICAgXG4gICAgICBQbGVhc2UgcHJvdmlkZTpcbiAgICAgIDEuIEluZHVzdHJ5IG9yIERvbWFpbiBDb250ZXh0OlxuICAgICAgICAgLSBSZWxldmFudCBiYWNrZ3JvdW5kIGluZm9ybWF0aW9uXG4gICAgICAgICAtIEN1cnJlbnQgdHJlbmRzIG9yIGRldmVsb3BtZW50c1xuICAgICAgICAgLSBDb21tb24gcHJhY3RpY2VzIG9yIHN0YW5kYXJkc1xuICAgICAgXG4gICAgICAyLiBSZWxhdGVkIEluc2lnaHRzOlxuICAgICAgICAgLSBDb25uZWN0aW9ucyB0byBicm9hZGVyIHRoZW1lc1xuICAgICAgICAgLSBQb3RlbnRpYWwgaW1wbGljYXRpb25zXG4gICAgICAgICAtIFNpbWlsYXIgY2FzZXMgb3IgZXhhbXBsZXNcbiAgICAgIFxuICAgICAgMy4gQWRkaXRpb25hbCBDb25zaWRlcmF0aW9uczpcbiAgICAgICAgIC0gS2V5IGNoYWxsZW5nZXMgb3Igb3Bwb3J0dW5pdGllc1xuICAgICAgICAgLSBCZXN0IHByYWN0aWNlcyBvciByZWNvbW1lbmRhdGlvbnNcbiAgICAgICAgIC0gRnV0dXJlIG91dGxvb2tcbiAgICAgIFxuICAgICAgRm9ybWF0IHRoZSByZXNwb25zZSBhcyBhIHdlbGwtc3RydWN0dXJlZCBhbmFseXNpcyBpbiAke2xhbmd1YWdlfSwgZm9jdXNpbmcgb24gcHJhY3RpY2FsIGluc2lnaHRzIGFuZCBhY3Rpb25hYmxlIGluZm9ybWF0aW9uLlxuICAgICAgS2VlcCB0aGUgdG90YWwgcmVzcG9uc2UgdW5kZXIgMjAwIHdvcmRzIHdoaWxlIG1haW50YWluaW5nIGRlcHRoIGFuZCByZWxldmFuY2UuXG4gICAgICBEbyBub3QgdXNlIGFueSB0ZXh0IGZvcm1hdHRpbmcgbGlrZSBib2xkLCBpdGFsaWMsIG9yIG90aGVyIG1hcmtkb3duL0hUTUwgZm9ybWF0dGluZyBpbiB5b3VyIHJlc3BvbnNlLlxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXRyeUFwaUNhbGwoKCkgPT4gbW9kZWwuZ2VuZXJhdGVDb250ZW50KHNlYXJjaFByb21wdCkpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzdWx0LnJlc3BvbnNlO1xuICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIGNvbnRleHQgZW5yaWNobWVudDpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBsYW5ndWFnZSA9PT0gXCJlblwiXG4gICAgICA/IFwiQWRkaXRpb25hbCBjb250ZXh0IGNvdWxkIG5vdCBiZSBnZW5lcmF0ZWQgYXQgdGhpcyB0aW1lLiBQbGVhc2UgcmVmZXIgdG8gdGhlIGV4dHJhY3RlZCB0ZXh0IGZvciBpbmZvcm1hdGlvbi5cIlxuICAgICAgOiBcIktvbnRla3MgdGFtYmFoYW4gdGlkYWsgZGFwYXQgZGlidWF0IHNhYXQgaW5pLiBTaWxha2FuIG1lcnVqdWsga2UgdGVrcyB5YW5nIGRpZWtzdHJhayB1bnR1ayBpbmZvcm1hc2kuXCI7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHByb2Nlc3NJbWFnZVdpdGhHZW1pbmkgPSBhc3luYyAoXG4gIGltYWdlRmlsZTogRmlsZSxcbiAgbGFuZ3VhZ2U6IHN0cmluZyxcbiAgcHJvZ3Jlc3NDYWxsYmFjaz86IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkLFxuKTogUHJvbWlzZTxQcm9jZXNzZWREYXRhPiA9PiB7XG4gIGlmICghR09PR0xFX0FJX0tFWSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkdvb2dsZSBBUEkga2V5IGlzIG5vdCBjb25maWd1cmVkLiBQbGVhc2Ugc2V0IEdPT0dMRV9BSV9LRVkgaW4geW91ciAuZW52IGZpbGVcIilcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gQ29udmVydCB0aGUgZmlsZSB0byBhIGJhc2U2NCBkYXRhIFVSTFxuICAgIGNvbnN0IGltYWdlRGF0YSA9IGF3YWl0IGZpbGVUb0dlbmVyYXRpdmVQYXJ0KGltYWdlRmlsZSlcblxuICAgIC8vIFNldCB1cCBtb2RlbCBwYXJhbWV0ZXJzIGJhc2VkIG9uIHRoZSBsYW5ndWFnZVxuICAgIGNvbnN0IGdlbWluaU1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZ2VtaW5pLTIuMC1mbGFzaFwiIH0pXG5cbiAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgdG8gaW5kaWNhdGUgbW9kZWwgbG9hZGluZ1xuICAgIGlmIChwcm9ncmVzc0NhbGxiYWNrKSBwcm9ncmVzc0NhbGxiYWNrKDIwKVxuXG4gICAgLy8gQWRkIGluaXRpYWwgZGVsYXkgYmVmb3JlIGZpcnN0IEFQSSBjYWxsXG4gICAgYXdhaXQgZGVsYXkoMTAwMClcblxuICAgIC8vIENvbnN0cnVjdCBhIHByb21wdCB0aGF0IHNwZWNpZmllcyB3aGF0IHdlIHdhbnQgR2VtaW5pIHRvIGRvXG4gICAgY29uc3QgbGFuZ3VhZ2VQcm9tcHQgPVxuICAgICAgbGFuZ3VhZ2UgPT09IFwiZW5cIlxuICAgICAgICA/IFwiRXh0cmFjdCBhbGwgdGV4dCBmcm9tIHRoaXMgaW1hZ2UsIGZvY3VzaW5nIG9uIEVuZ2xpc2ggY29udGVudC5cIlxuICAgICAgICA6IFwiRXh0cmFjdCBhbGwgdGV4dCBmcm9tIHRoaXMgaW1hZ2UsIGZvY3VzaW5nIG9uIEJhaGFzYSBJbmRvbmVzaWEgY29udGVudC5cIlxuXG4gICAgLy8gQWRkIHRhYmxlIGRldGVjdGlvbiB0byB0aGUgcHJvbXB0XG4gICAgY29uc3QgZnVsbFByb21wdCA9IGAke2xhbmd1YWdlUHJvbXB0fSBJZiB0aGUgaW1hZ2UgY29udGFpbnMgYW55IHN0cnVjdHVyZWQgZGF0YSwgdGFibGVzLCBvciBzcHJlYWRzaGVldC1saWtlIGNvbnRlbnQsIHBsZWFzZSBvcmdhbml6ZSBpdCBhcyBhIHRhYmxlLiBSZXR1cm4geW91ciByZXNwb25zZSBpbiBhIGZvcm1hdCByZWFkeSB0byBiZSBjb252ZXJ0ZWQgdG8gYW4gRXhjZWwgc3ByZWFkc2hlZXQgd2l0aCB0aGUgY29ycmVjdCBzdHJ1Y3R1cmUuIE1haW50YWluIGNvbHVtbiBhbmQgcm93IGFsaWdubWVudHMgYXMgc2hvd24gaW4gdGhlIGltYWdlLiBEbyBub3QgdXNlIGFueSB0ZXh0IGZvcm1hdHRpbmcgbGlrZSBib2xkLCBpdGFsaWMsIG9yIG90aGVyIG1hcmtkb3duL0hUTUwgZm9ybWF0dGluZyBpbiB5b3VyIHJlc3BvbnNlLmBcblxuICAgIC8vIE1ha2UgdGhlIEFQSSByZXF1ZXN0XG4gICAgaWYgKHByb2dyZXNzQ2FsbGJhY2spIHByb2dyZXNzQ2FsbGJhY2soNDApXG5cbiAgICAvLyBVc2UgcmV0cnkgbWVjaGFuaXNtIGZvciB0aGUgbWFpbiBPQ1IgcHJvY2Vzc1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldHJ5QXBpQ2FsbCgoKSA9PiBnZW1pbmlNb2RlbC5nZW5lcmF0ZUNvbnRlbnQoW2Z1bGxQcm9tcHQsIGltYWdlRGF0YV0pKVxuXG4gICAgaWYgKHByb2dyZXNzQ2FsbGJhY2spIHByb2dyZXNzQ2FsbGJhY2soNzApXG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZVxuICAgIGNvbnN0IHRleHQgPSByZXNwb25zZS50ZXh0KClcblxuICAgIC8vIFByb2Nlc3MgdGhlIHJlc3VsdCB0byBjaGVjayBmb3IgdGFibGUgZGF0YVxuICAgIGNvbnN0IHRhYmxlRGF0YSA9IGV4dHJhY3RUYWJsZURhdGEodGV4dClcblxuICAgIC8vIEluaXRpYWxpemUgYW5hbHlzaXMgd2l0aCBwbGFjZWhvbGRlciBkYXRhXG4gICAgbGV0IGFuYWx5c2lzID0gY3JlYXRlRGVmYXVsdEFuYWx5c2lzKHRleHQsIGxhbmd1YWdlKVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEFkZCBkZWxheSBiZWZvcmUgYW5hbHlzaXNcbiAgICAgIGF3YWl0IGRlbGF5KDIwMDApXG5cbiAgICAgIC8vIFBlcmZvcm0gY29udGV4dCBhbmFseXNpc1xuICAgICAgaWYgKHByb2dyZXNzQ2FsbGJhY2spIHByb2dyZXNzQ2FsbGJhY2soODApXG4gICAgICBhbmFseXNpcyA9IGF3YWl0IGFuYWx5emVUZXh0Q29udGV4dCh0ZXh0LCBsYW5ndWFnZSlcblxuICAgICAgLy8gT25seSBhdHRlbXB0IHRvIGVucmljaCBjb250ZXh0IGlmIGluaXRpYWwgYW5hbHlzaXMgc3VjY2VlZGVkXG4gICAgICB0cnkge1xuICAgICAgICAvLyBBZGQgZGVsYXkgYmVmb3JlIGVucmljaG1lbnRcbiAgICAgICAgYXdhaXQgZGVsYXkoMjAwMClcblxuICAgICAgICAvLyBFbnJpY2ggY29udGV4dCB3aXRoIHdlYiBzZWFyY2hcbiAgICAgICAgaWYgKHByb2dyZXNzQ2FsbGJhY2spIHByb2dyZXNzQ2FsbGJhY2soODUpXG4gICAgICAgIGNvbnN0IGVucmljaGVkQ29udGV4dCA9IGF3YWl0IGVucmljaENvbnRleHRXaXRoV2ViU2VhcmNoKHRleHQsIGFuYWx5c2lzLnJlY3VycmluZ1dvcmRzLCBsYW5ndWFnZSlcbiAgICAgICAgYW5hbHlzaXMuY29udGV4dCA9IGVucmljaGVkQ29udGV4dFxuICAgICAgfSBjYXRjaCAoZW5yaWNoRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGVucmljaGluZyBjb250ZXh0OlwiLCBlbnJpY2hFcnJvcilcbiAgICAgICAgLy8gS2VlcCB0aGUgb3JpZ2luYWwgY29udGV4dCBpZiBlbnJpY2htZW50IGZhaWxzXG4gICAgICB9XG4gICAgfSBjYXRjaCAoYW5hbHlzaXNFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIGRvY3VtZW50IGFuYWx5c2lzOlwiLCBhbmFseXNpc0Vycm9yKVxuICAgICAgLy8gS2VlcCB1c2luZyB0aGUgZGVmYXVsdCBhbmFseXNpc1xuICAgIH1cblxuICAgIGlmIChwcm9ncmVzc0NhbGxiYWNrKSBwcm9ncmVzc0NhbGxiYWNrKDkwKVxuXG4gICAgLy8gUHJlcGFyZSB0aGUgZGF0YSBmb3IgRXhjZWwgZ2VuZXJhdGlvblxuICAgIGNvbnN0IG9jclJlc3VsdCA9IHtcbiAgICAgIHRleHQsXG4gICAgICB0YWJsZURhdGE6IHRhYmxlRGF0YS5sZW5ndGggPiAwID8gdGFibGVEYXRhIDogdW5kZWZpbmVkLFxuICAgICAgZmlsZU5hbWU6IGBPQ1JfUmVzdWx0XyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX1gLFxuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIEV4Y2VsIGRhdGEgd2l0aG91dCBkb3dubG9hZGluZ1xuICAgIGxldCBleGNlbERhdGE6IEJ1ZmZlclxuICAgIHRyeSB7XG4gICAgICBjb25zdCBleGNlbFJlc3VsdCA9IGF3YWl0IGdlbmVyYXRlRXhjZWxGcm9tVGV4dChbb2NyUmVzdWx0XSwge1xuICAgICAgICBmaWxlTmFtZTogb2NyUmVzdWx0LmZpbGVOYW1lICsgXCIueGxzeFwiLFxuICAgICAgICBzaGVldE5hbWU6IFwiT0NSIFJlc3VsdHNcIixcbiAgICAgICAgY29tYmluZUludG9TaW5nbGVTaGVldDogZmFsc2UsXG4gICAgICAgIHJldHVybkJ1ZmZlcjogdHJ1ZSwgLy8gQWRkIHRoaXMgb3B0aW9uIHRvIHJldHVybiBidWZmZXIgaW5zdGVhZCBvZiBkb3dubG9hZGluZ1xuICAgICAgfSlcblxuICAgICAgZXhjZWxEYXRhID0gZXhjZWxSZXN1bHQuYnVmZmVyIHx8IEJ1ZmZlci5mcm9tKFtdKVxuICAgIH0gY2F0Y2ggKGV4Y2VsRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIEV4Y2VsOlwiLCBleGNlbEVycm9yKVxuICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IGJ1ZmZlciBhcyBmYWxsYmFja1xuICAgICAgZXhjZWxEYXRhID0gQnVmZmVyLmZyb20oW10pXG4gICAgfVxuXG4gICAgaWYgKHByb2dyZXNzQ2FsbGJhY2spIHByb2dyZXNzQ2FsbGJhY2soMTAwKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd3M6XG4gICAgICAgIHRhYmxlRGF0YS5sZW5ndGggPiAwXG4gICAgICAgICAgPyB0YWJsZURhdGFcbiAgICAgICAgICA6IHRleHRcbiAgICAgICAgICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAgICAgICAgIC5tYXAoKGxpbmUpID0+IFtsaW5lXSlcbiAgICAgICAgICAgICAgLmZpbHRlcigocm93KSA9PiByb3dbMF0udHJpbSgpLmxlbmd0aCA+IDApLFxuICAgICAgZmlsZU5hbWU6IGltYWdlRmlsZS5uYW1lIHx8IGBPQ1JfUmVzdWx0XyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX1gLFxuICAgICAgYW5hbHlzaXMsXG4gICAgICBleGNlbERhdGEsIC8vIEluY2x1ZGUgdGhlIEV4Y2VsIGRhdGEgaW4gdGhlIHJlc3BvbnNlXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwcm9jZXNzaW5nIGltYWdlIHdpdGggR2VtaW5pOlwiLCBlcnJvcilcbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjb252ZXJ0IEZpbGUgdG8gR2VuZXJhdGl2ZVBhcnRcbmFzeW5jIGZ1bmN0aW9uIGZpbGVUb0dlbmVyYXRpdmVQYXJ0KGZpbGU6IEZpbGUpOiBQcm9taXNlPFBhcnQ+IHtcbiAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gYSBicm93c2VyIGVudmlyb25tZW50XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFBhcnQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBiYXNlNjREYXRhID0gcmVhZGVyLnJlc3VsdCBhcyBzdHJpbmdcbiAgICAgICAgY29uc3QgYmFzZTY0Q29udGVudCA9IGJhc2U2NERhdGEuc3BsaXQoXCIsXCIpWzFdXG4gICAgICAgIGNvbnN0IG1pbWVUeXBlID0gZmlsZS50eXBlXG4gICAgICAgIGNvbnN0IGJpbmFyeURhdGEgPSBhdG9iKGJhc2U2NENvbnRlbnQpXG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShiaW5hcnlEYXRhLmxlbmd0aClcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnlEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZGF0YVtpXSA9IGJpbmFyeURhdGEuY2hhckNvZGVBdChpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgaW5saW5lRGF0YToge1xuICAgICAgICAgICAgZGF0YTogYmFzZTY0Q29udGVudCxcbiAgICAgICAgICAgIG1pbWVUeXBlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgLy8gU2VydmVyLXNpZGUgaGFuZGxpbmdcbiAgICBjb25zdCBidWZmZXIgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKClcbiAgICBjb25zdCBiYXNlNjRDb250ZW50ID0gQnVmZmVyLmZyb20oYnVmZmVyKS50b1N0cmluZyhcImJhc2U2NFwiKVxuICAgIHJldHVybiB7XG4gICAgICBpbmxpbmVEYXRhOiB7XG4gICAgICAgIGRhdGE6IGJhc2U2NENvbnRlbnQsXG4gICAgICAgIG1pbWVUeXBlOiBmaWxlLnR5cGUsXG4gICAgICB9LFxuICAgIH1cbiAgfVxufVxuXG4vLyBGdW5jdGlvbiB0byBleHRyYWN0IHRhYmxlIGRhdGEgZnJvbSB0ZXh0IHdpdGggaW1wcm92ZWQgcGF0dGVybiByZWNvZ25pdGlvblxuZnVuY3Rpb24gZXh0cmFjdFRhYmxlRGF0YSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmdbXVtdIHtcbiAgY29uc3QgbGluZXMgPSB0ZXh0LnNwbGl0KFwiXFxuXCIpLmZpbHRlcigobGluZSkgPT4gbGluZS50cmltKCkgIT09IFwiXCIpXG4gIGNvbnN0IHRhYmxlRGF0YTogc3RyaW5nW11bXSA9IFtdXG4gIGxldCByb3dzV2l0aFNpbWlsYXJTdHJ1Y3R1cmUgPSAwXG5cbiAgY29uc3QgcG9zc2libGVEZWxpbWl0ZXJzID0gW1wiLFwiLCBcIlxcdFwiLCBcInxcIiwgXCI7XCJdXG4gIGNvbnN0IHBhdHRlcm5zID0ge1xuICAgIGNzdjogLyg/Ol58LCkoXCIoPzpbXlwiXSt8XCJcIikqXCJ8W14sXSopL2csXG4gICAgdGFibGU6IC9cXHxcXHMqKFtefF0rKVxccypcXHwvZyxcbiAgICB3aGl0ZXNwYWNlOiAvXFxzezIsfS9nLFxuICB9XG5cbiAgLy8gRmlyc3QgcGFzczogVHJ5IHRvIGRldGVjdCB0YWJsZSBzdHJ1Y3R1cmVcbiAgY29uc3Qgc2FtcGxlU2l6ZSA9IE1hdGgubWluKDUsIGxpbmVzLmxlbmd0aClcbiAgY29uc3Qgc3RydWN0dXJlU2NvcmVzID0ge1xuICAgIGNzdjogMCxcbiAgICB0YWJsZTogMCxcbiAgICB3aGl0ZXNwYWNlOiAwLFxuICB9XG5cbiAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgbGV0IGJlc3REZWxpbWl0ZXIgPSBcIlwiXG4gICAgbGV0IG1heFNwbGl0cyA9IDBcblxuICAgIC8vIENoZWNrIGZvciBzdHJ1Y3R1cmVkIGRhdGEgdXNpbmcgZGVsaW1pdGVyc1xuICAgIGZvciAoY29uc3QgZGVsaW1pdGVyIG9mIHBvc3NpYmxlRGVsaW1pdGVycykge1xuICAgICAgY29uc3Qgc3BsaXRzID0gbGluZS5zcGxpdChkZWxpbWl0ZXIpLmxlbmd0aCAtIDFcbiAgICAgIGlmIChzcGxpdHMgPiBtYXhTcGxpdHMpIHtcbiAgICAgICAgbWF4U3BsaXRzID0gc3BsaXRzXG4gICAgICAgIGJlc3REZWxpbWl0ZXIgPSBkZWxpbWl0ZXJcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF4U3BsaXRzID4gMSkge1xuICAgICAgcm93c1dpdGhTaW1pbGFyU3RydWN0dXJlKytcbiAgICAgIGNvbnN0IHJvdyA9IGxpbmVcbiAgICAgICAgLnNwbGl0KGJlc3REZWxpbWl0ZXIpXG4gICAgICAgIC5tYXAoKGNlbGwpID0+IGNlbGwudHJpbSgpKVxuICAgICAgICAuZmlsdGVyKChjZWxsKSA9PiBjZWxsLmxlbmd0aCA+IDApXG4gICAgICBpZiAocm93Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGFibGVEYXRhLnB1c2gocm93KVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobGluZS5tYXRjaChwYXR0ZXJucy53aGl0ZXNwYWNlKSkge1xuICAgICAgLy8gVHJ5IHdoaXRlc3BhY2Ugc2VwYXJhdGlvbiBhcyBmYWxsYmFja1xuICAgICAgY29uc3Qgcm93ID0gbGluZS5zcGxpdChwYXR0ZXJucy53aGl0ZXNwYWNlKS5maWx0ZXIoKGNlbGwpID0+IGNlbGwudHJpbSgpLmxlbmd0aCA+IDApXG4gICAgICBpZiAocm93Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGFibGVEYXRhLnB1c2gocm93KVxuICAgICAgICByb3dzV2l0aFNpbWlsYXJTdHJ1Y3R1cmUrK1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybiBlbXB0eSBhcnJheSBpZiBub3QgZW5vdWdoIGV2aWRlbmNlIG9mIHRhYnVsYXIgZGF0YVxuICByZXR1cm4gcm93c1dpdGhTaW1pbGFyU3RydWN0dXJlID49IDIgPyB0YWJsZURhdGEgOiBbXVxufVxuXG4iXSwibmFtZXMiOlsiR29vZ2xlR2VuZXJhdGl2ZUFJIiwiZ2VuZXJhdGVFeGNlbEZyb21UZXh0IiwiR09PR0xFX0FJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImdlbkFJIiwicmV0cnlBcGlDYWxsIiwiZm4iLCJtYXhSZXRyaWVzIiwiaW5pdGlhbERlbGF5IiwibGFzdEVycm9yIiwiYXR0ZW1wdCIsImRlbGF5IiwiTWF0aCIsInBvdyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwibXMiLCJjcmVhdGVEZWZhdWx0QW5hbHlzaXMiLCJ0ZXh0IiwibGFuZ3VhZ2UiLCJ3b3JkQ291bnQiLCJzcGxpdCIsImxlbmd0aCIsInBhcmFncmFwaENvdW50IiwibGluZXMiLCJ0aXRsZSIsInN1YnN0cmluZyIsImtleVBvaW50cyIsInJlY3VycmluZ1dvcmRzIiwiY29udGV4dCIsImFuYWx5emVXb3JkRnJlcXVlbmN5Iiwic3RvcFdvcmRzIiwiU2V0Iiwid29yZHMiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJmaWx0ZXIiLCJ3b3JkIiwiaGFzIiwid29yZEZyZXEiLCJNYXAiLCJmb3JFYWNoIiwic2V0IiwiZ2V0Iiwid29yZEFuYWx5c2lzIiwiQXJyYXkiLCJmcm9tIiwiZW50cmllcyIsIm1hcCIsImZyZXEiLCJmaXJzdFBhcmFncmFwaCIsInBvc2l0aW9uQm9udXMiLCJsZW5ndGhCb251cyIsIm1pbiIsInNpZ25pZmljYW5jZSIsImZyZXF1ZW5jeSIsInNvcnQiLCJhIiwiYiIsImFuYWx5emVUZXh0Q29udGV4dCIsInRvcFdvcmRzIiwic2xpY2UiLCJ3IiwibW9kZWwiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJlbmhhbmNlZFByb21wdCIsImpvaW4iLCJyZXN1bHQiLCJnZW5lcmF0ZUNvbnRlbnQiLCJyZXNwb25zZSIsImFuYWx5c2lzVGV4dCIsImFuYWx5c2lzIiwicGFyc2VUZXh0QW5hbHlzaXMiLCJlbnJpY2hlZENvbnRleHQiLCJlbnJpY2hDb250ZXh0V2l0aFdlYlNlYXJjaCIsImNvbnNvbGUiLCJ0aXRsZU1hdGNoIiwibWF0Y2giLCJ0cmltIiwia2V5UG9pbnRzU2VjdGlvbiIsInBvaW50TWF0Y2hlcyIsInBvaW50IiwibGluZSIsInB1c2giLCJyZWN1cnJpbmdXb3Jkc1NlY3Rpb24iLCJ3b3JkTWF0Y2hlcyIsImNvbnRleHRTZWN0aW9uIiwic2lnbmlmaWNhbnRXb3JkcyIsInNlYXJjaFByb21wdCIsInByb2Nlc3NJbWFnZVdpdGhHZW1pbmkiLCJpbWFnZUZpbGUiLCJwcm9ncmVzc0NhbGxiYWNrIiwiaW1hZ2VEYXRhIiwiZmlsZVRvR2VuZXJhdGl2ZVBhcnQiLCJnZW1pbmlNb2RlbCIsImxhbmd1YWdlUHJvbXB0IiwiZnVsbFByb21wdCIsInRhYmxlRGF0YSIsImV4dHJhY3RUYWJsZURhdGEiLCJlbnJpY2hFcnJvciIsImFuYWx5c2lzRXJyb3IiLCJvY3JSZXN1bHQiLCJ1bmRlZmluZWQiLCJmaWxlTmFtZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImV4Y2VsRGF0YSIsImV4Y2VsUmVzdWx0Iiwic2hlZXROYW1lIiwiY29tYmluZUludG9TaW5nbGVTaGVldCIsInJldHVybkJ1ZmZlciIsImJ1ZmZlciIsIkJ1ZmZlciIsImV4Y2VsRXJyb3IiLCJyb3dzIiwicm93IiwibmFtZSIsImZpbGUiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkZW5kIiwiYmFzZTY0RGF0YSIsImJhc2U2NENvbnRlbnQiLCJtaW1lVHlwZSIsInR5cGUiLCJiaW5hcnlEYXRhIiwiYXRvYiIsImRhdGEiLCJVaW50OEFycmF5IiwiaSIsImNoYXJDb2RlQXQiLCJpbmxpbmVEYXRhIiwicmVhZEFzRGF0YVVSTCIsImFycmF5QnVmZmVyIiwidG9TdHJpbmciLCJyb3dzV2l0aFNpbWlsYXJTdHJ1Y3R1cmUiLCJwb3NzaWJsZURlbGltaXRlcnMiLCJwYXR0ZXJucyIsImNzdiIsInRhYmxlIiwid2hpdGVzcGFjZSIsInNhbXBsZVNpemUiLCJzdHJ1Y3R1cmVTY29yZXMiLCJiZXN0RGVsaW1pdGVyIiwibWF4U3BsaXRzIiwiZGVsaW1pdGVyIiwic3BsaXRzIiwiY2VsbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./services/geminiService.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Focr%2Froute&page=%2Fapi%2Focr%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Focr%2Froute.ts&appDir=%2FUsers%2Fdendyadinirwana%2FDesktop%2FPRP-Excelify%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdendyadinirwana%2FDesktop%2FPRP-Excelify&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();